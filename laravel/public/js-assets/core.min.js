!function(e,t){"use strict";var n,r,a,i=e,o=i.document,l=i.navigator,s=i.setTimeout,c=i.clearTimeout,u=i.setInterval,f=i.clearInterval,d=i.getComputedStyle,p=i.encodeURIComponent,h=i.ActiveXObject,m=i.Error,y=i.Number.parseInt||i.parseInt,v=i.Number.parseFloat||i.parseFloat,g=i.Number.isNaN||i.isNaN,b=i.Date.now,w=i.Object.keys,x=i.Object.defineProperty,C=i.Object.prototype.hasOwnProperty,E=i.Array.prototype.slice,T=function(){var e=function(e){return e};if("function"==typeof i.wrap&&"function"==typeof i.unwrap)try{var t=o.createElement("div"),n=i.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=i.unwrap)}catch(r){}return e}(),j=function(e){return E.call(e,0)},D=function(){var e,n,r,a,i,o,l=j(arguments),s=l[0]||{};for(e=1,n=l.length;n>e;e++)if(null!=(r=l[e]))for(a in r)C.call(r,a)&&(i=s[a],o=r[a],s!==o&&o!==t&&(s[a]=o));return s},k=function(e){var t,n,r,a;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if("number"==typeof e.length)for(t=[],n=0,r=e.length;r>n;n++)C.call(e,n)&&(t[n]=k(e[n]));else{t={};for(a in e)C.call(e,a)&&(t[a]=k(e[a]))}return t},I=function(e,t){for(var n={},r=0,a=t.length;a>r;r++)t[r]in e&&(n[t[r]]=e[t[r]]);return n},O=function(e,t){var n={};for(var r in e)-1===t.indexOf(r)&&(n[r]=e[r]);return n},N=function(e){if(e)for(var t in e)C.call(e,t)&&delete e[t];return e},L=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},A=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},_=function(e){var t,n;return"string"==typeof e&&e&&(n=e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?t=n[1]:(n=e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(t=n[1]))),t},F=function(){var e,t;try{throw new m}catch(n){t=n}return t&&(e=t.sourceURL||t.fileName||_(t.stack)),e},S=function(){var e,n,r;if(o.currentScript&&(e=o.currentScript.src))return e;if(n=o.getElementsByTagName("script"),1===n.length)return n[0].src||t;if("readyState"in n[0])for(r=n.length;r--;)if("interactive"===n[r].readyState&&(e=n[r].src))return e;return"loading"===o.readyState&&(e=n[n.length-1].src)?e:(e=F())?e:t},z=function(){var e,n,r,a=o.getElementsByTagName("script");for(e=a.length;e--;){if(!(r=a[e].src)){n=null;break}if(r=A(r),null==n)n=r;else if(n!==r){n=null;break}}return n||t},Z=function(){var e=A(S())||z()||"";return e+"ZeroClipboard.swf"},V=function(){return null==e.opener&&(!!e.top&&e!=e.top||!!e.parent&&e!=e.parent)}(),X={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},$="11.0.0",Y={},B={},M=null,P=0,H=0,R={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},J=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],K=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],U=new RegExp("^flash-("+K.map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),W=new RegExp("^flash-("+K.slice(1).map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),G={swfPath:Z(),trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},q=function(e){if("object"==typeof e&&null!==e)for(var t in e)if(C.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))G[t]=e[t];else if(null==X.bridge)if("containerId"===t||"swfObjectId"===t){if(!pe(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");G[t]=e[t]}else G[t]=e[t];return"string"==typeof e&&e?C.call(G,e)?G[e]:void 0:k(G)},Q=function(){return He(),{browser:I(l,["userAgent","platform","appName"]),flash:O(X,["bridge"]),zeroclipboard:{version:Je.version,config:Je.config()}}},ee=function(){return!!(X.disabled||X.outdated||X.sandboxed||X.unavailable||X.degraded||X.deactivated)},te=function(e,r){var a,i,o,l={};if("string"==typeof e&&e)o=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof r)for(a in e)C.call(e,a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&Je.on(a,e[a]);if(o&&o.length){for(a=0,i=o.length;i>a;a++)e=o[a].replace(/^on/,""),l[e]=!0,Y[e]||(Y[e]=[]),Y[e].push(r);if(l.ready&&X.ready&&Je.emit({type:"ready"}),l.error){for(a=0,i=K.length;i>a;a++)if(X[K[a].replace(/^flash-/,"")]===!0){Je.emit({type:"error",name:K[a]});break}n!==t&&Je.version!==n&&Je.emit({type:"error",name:"version-mismatch",jsVersion:Je.version,swfVersion:n})}}return Je},ne=function(e,t){var n,r,a,i,o;if(0===arguments.length)i=w(Y);else if("string"==typeof e&&e)i=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)C.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Je.off(n,e[n]);if(i&&i.length)for(n=0,r=i.length;r>n;n++)if(e=i[n].toLowerCase().replace(/^on/,""),o=Y[e],o&&o.length)if(t)for(a=o.indexOf(t);-1!==a;)o.splice(a,1),a=o.indexOf(t,a);else o.length=0;return Je},re=function(e){var t;return t="string"==typeof e&&e?k(Y[e])||null:k(Y)},ae=function(e){var t,n,r;return e=he(e),e&&!xe(e)?"ready"===e.type&&X.overdue===!0?Je.emit({type:"error",name:"flash-overdue"}):(t=D({},e),be.call(this,t),"copy"===e.type&&(r=Oe(B),n=r.data,M=r.formatMap),n):void 0},ie=function(){var e=X.sandboxed;if(He(),"boolean"!=typeof X.ready&&(X.ready=!1),X.sandboxed!==e&&X.sandboxed===!0)X.ready=!1,Je.emit({type:"error",name:"flash-sandboxed"});else if(!Je.isFlashUnusable()&&null===X.bridge){var t=G.flashLoadTimeout;"number"==typeof t&&t>=0&&(P=s(function(){"boolean"!=typeof X.deactivated&&(X.deactivated=!0),X.deactivated===!0&&Je.emit({type:"error",name:"flash-deactivated"})},t)),X.overdue=!1,ke()}},oe=function(){Je.clearData(),Je.blur(),Je.emit("destroy"),Ie(),Je.off()},le=function(e,t){var n;if("object"==typeof e&&e&&"undefined"==typeof t)n=e,Je.clearData();else{if("string"!=typeof e||!e)return;n={},n[e]=t}for(var r in n)"string"==typeof r&&r&&C.call(n,r)&&"string"==typeof n[r]&&n[r]&&(B[r]=n[r])},se=function(e){"undefined"==typeof e?(N(B),M=null):"string"==typeof e&&C.call(B,e)&&delete B[e]},ce=function(e){return"undefined"==typeof e?k(B):"string"==typeof e&&C.call(B,e)?B[e]:void 0},ue=function(e){if(e&&1===e.nodeType){r&&(Ze(r,G.activeClass),r!==e&&Ze(r,G.hoverClass)),r=e,ze(e,G.hoverClass);var t=e.getAttribute("title")||G.title;if("string"==typeof t&&t){var n=De(X.bridge);n&&n.setAttribute("title",t)}var a=G.forceHandCursor===!0||"pointer"===Ve(e,"cursor");Me(a),Be()}},fe=function(){var e=De(X.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px"),r&&(Ze(r,G.hoverClass),Ze(r,G.activeClass),r=null)},de=function(){return r||null},pe=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},he=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){t=t.toLowerCase(),!e.target&&(/^(copy|aftercopy|_click)$/.test(t)||"error"===t&&"clipboard-error"===e.name)&&(e.target=a),D(e,{type:t,target:e.target||r||null,relatedTarget:e.relatedTarget||null,currentTarget:X&&X.bridge||null,timeStamp:e.timeStamp||b()||null});var n=R[e.type];return"error"===e.type&&e.name&&n&&(n=n[e.name]),n&&(e.message=n),"ready"===e.type&&D(e,{target:null,version:X.version}),"error"===e.type&&(U.test(e.name)&&D(e,{target:null,minimumVersion:$}),W.test(e.name)&&D(e,{version:X.version})),"copy"===e.type&&(e.clipboardData={setData:Je.setData,clearData:Je.clearData}),"aftercopy"===e.type&&(e=Ne(e,M)),e.target&&!e.relatedTarget&&(e.relatedTarget=me(e.target)),ye(e)}},me=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?o.getElementById(t):null},ye=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var n=e.target,r="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:t,a="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:t,l=Xe(n),s=i.screenLeft||i.screenX||0,c=i.screenTop||i.screenY||0,u=o.body.scrollLeft+o.documentElement.scrollLeft,f=o.body.scrollTop+o.documentElement.scrollTop,d=l.left+("number"==typeof e._stageX?e._stageX:0),p=l.top+("number"==typeof e._stageY?e._stageY:0),h=d-u,m=p-f,y=s+h,v=c+m,g="number"==typeof e.movementX?e.movementX:0,b="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,D(e,{srcElement:n,fromElement:r,toElement:a,screenX:y,screenY:v,pageX:d,pageY:p,clientX:h,clientY:m,x:h,y:m,movementX:g,movementY:b,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},ve=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},ge=function(e,t,n,r){r?s(function(){e.apply(t,n)},0):e.apply(t,n)},be=function(e){if("object"==typeof e&&e&&e.type){var t=ve(e),n=Y["*"]||[],r=Y[e.type]||[],a=n.concat(r);if(a&&a.length){var o,l,s,c,u,f=this;for(o=0,l=a.length;l>o;o++)s=a[o],c=f,"string"==typeof s&&"function"==typeof i[s]&&(s=i[s]),"object"==typeof s&&s&&"function"==typeof s.handleEvent&&(c=s,s=s.handleEvent),"function"==typeof s&&(u=D({},e),ge(s,c,[u],t))}return this}},we=function(e){var t=null;return(V===!1||e&&"error"===e.type&&e.name&&-1!==J.indexOf(e.name))&&(t=!1),t},xe=function(e){var t=e.target||r||null,i="swf"===e._source;switch(delete e._source,e.type){case"error":var o="flash-sandboxed"===e.name||we(e);"boolean"==typeof o&&(X.sandboxed=o),-1!==K.indexOf(e.name)?D(X,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,degraded:"flash-degraded"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1}):"version-mismatch"===e.name&&(n=e.swfVersion,D(X,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Ye();break;case"ready":n=e.swfVersion;var l=X.deactivated===!0;D(X,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:l,ready:!l}),Ye();break;case"beforecopy":a=t;break;case"copy":var s,c,u=e.relatedTarget;!B["text/html"]&&!B["text/plain"]&&u&&(c=u.value||u.outerHTML||u.innerHTML)&&(s=u.value||u.textContent||u.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",s),c!==s&&e.clipboardData.setData("text/html",c)):!B["text/plain"]&&e.target&&(s=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",s));break;case"aftercopy":Ce(e),Je.clearData(),t&&t!==Se()&&t.focus&&t.focus();break;case"_mouseover":Je.focus(t),G.bubbleEvents===!0&&i&&(t&&t!==e.relatedTarget&&!L(e.relatedTarget,t)&&Ee(D({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),Ee(D({},e,{type:"mouseover"})));break;case"_mouseout":Je.blur(),G.bubbleEvents===!0&&i&&(t&&t!==e.relatedTarget&&!L(e.relatedTarget,t)&&Ee(D({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),Ee(D({},e,{type:"mouseout"})));break;case"_mousedown":ze(t,G.activeClass),G.bubbleEvents===!0&&i&&Ee(D({},e,{type:e.type.slice(1)}));break;case"_mouseup":Ze(t,G.activeClass),G.bubbleEvents===!0&&i&&Ee(D({},e,{type:e.type.slice(1)}));break;case"_click":a=null,G.bubbleEvents===!0&&i&&Ee(D({},e,{type:e.type.slice(1)}));break;case"_mousemove":G.bubbleEvents===!0&&i&&Ee(D({},e,{type:e.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)?!0:void 0},Ce=function(e){if(e.errors&&e.errors.length>0){var t=k(e);D(t,{type:"error",name:"clipboard-error"}),delete t.success,s(function(){Je.emit(t)},0)}},Ee=function(e){if(e&&"string"==typeof e.type&&e){var t,n=e.target||null,r=n&&n.ownerDocument||o,a={view:r.defaultView||i,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:r.createEvent?0:1},l=D(a,e);n&&r.createEvent&&n.dispatchEvent&&(l=[l.type,l.canBubble,l.cancelable,l.view,l.detail,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget],t=r.createEvent("MouseEvents"),t.initMouseEvent&&(t.initMouseEvent.apply(t,l),t._source="js",n.dispatchEvent(t)))}},Te=function(){var e=G.flashLoadTimeout;if("number"==typeof e&&e>=0){var t=Math.min(1e3,e/10),n=G.swfObjectId+"_fallbackContent";H=u(function(){var e=o.getElementById(n);$e(e)&&(Ye(),X.deactivated=null,Je.emit({type:"error",name:"swf-not-found"}))},t)}},je=function(){var e=o.createElement("div");return e.id=G.containerId,e.className=G.containerClass,e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+Pe(G.zIndex),e},De=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},ke=function(){var e,t=X.bridge,n=De(t);if(!t){var r=Fe(i.location.host,G),a="never"===r?"none":"all",l=Ae(D({jsVersion:Je.version},G)),s=G.swfPath+Le(G.swfPath,G);n=je();var c=o.createElement("div");n.appendChild(c),o.body.appendChild(n);var u=o.createElement("div"),f="activex"===X.pluginType;u.innerHTML='<object id="'+G.swfObjectId+'" name="'+G.swfObjectId+'" width="100%" height="100%" '+(f?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+s+'"')+">"+(f?'<param name="movie" value="'+s+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+a+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+l+'"/><div id="'+G.swfObjectId+'_fallbackContent">&nbsp;</div></object>',t=u.firstChild,u=null,T(t).ZeroClipboard=Je,n.replaceChild(t,c),Te()}return t||(t=o[G.swfObjectId],t&&(e=t.length)&&(t=t[e-1]),!t&&n&&(t=n.firstChild)),X.bridge=t||null,t},Ie=function(){var e=X.bridge;if(e){var r=De(e);r&&("activex"===X.pluginType&&"readyState"in e?(e.style.display="none",function a(){if(4===e.readyState){for(var t in e)"function"==typeof e[t]&&(e[t]=null);e.parentNode&&e.parentNode.removeChild(e),r.parentNode&&r.parentNode.removeChild(r)}else s(a,10)}()):(e.parentNode&&e.parentNode.removeChild(e),r.parentNode&&r.parentNode.removeChild(r))),Ye(),X.ready=null,X.bridge=null,X.deactivated=null,n=t}},Oe=function(e){var t={},n={};if("object"==typeof e&&e){for(var r in e)if(r&&C.call(e,r)&&"string"==typeof e[r]&&e[r])switch(r.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[r],n.text=r;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[r],n.html=r;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[r],n.rtf=r}return{data:t,formatMap:n}}},Ne=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var r in e)if(C.call(e,r))if("errors"===r){n[r]=e[r]?e[r].slice():[];for(var a=0,i=n[r].length;i>a;a++)n[r][a].format=t[n[r][a].format]}else if("success"!==r&&"data"!==r)n[r]=e[r];else{n[r]={};var o=e[r];for(var l in o)l&&C.call(o,l)&&C.call(t,l)&&(n[r][t[l]]=o[l])}return n},Le=function(e,t){var n=null==t||t&&t.cacheBust===!0;return n?(-1===e.indexOf("?")?"?":"&")+"noCache="+b():""},Ae=function(e){var t,n,r,a,o="",l=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?a=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(a=e.trustedDomains)),a&&a.length)for(t=0,n=a.length;n>t;t++)if(C.call(a,t)&&a[t]&&"string"==typeof a[t]){if(r=_e(a[t]),!r)continue;if("*"===r){l.length=0,l.push(r);break}l.push.apply(l,[r,"//"+r,i.location.protocol+"//"+r])}return l.length&&(o+="trustedOrigins="+p(l.join(","))),e.forceEnhancedClipboard===!0&&(o+=(o?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(o+=(o?"&":"")+"swfObjectId="+p(e.swfObjectId)),"string"==typeof e.jsVersion&&e.jsVersion&&(o+=(o?"&":"")+"jsVersion="+p(e.jsVersion)),o},_e=function(e){if(null==e||""===e)return null;if(e=e.replace(/^\s+|\s+$/g,""),""===e)return null;var t=e.indexOf("//");e=-1===t?e:e.slice(t+2);var n=e.indexOf("/");return e=-1===n?e:-1===t||0===n?null:e.slice(0,n),e&&".swf"===e.slice(-4).toLowerCase()?null:e||null},Fe=function(){var e=function(e){var t,n,r,a=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return a;for(t=0,n=e.length;n>t;t++)if(C.call(e,t)&&(r=_e(e[t]))){if("*"===r){a.length=0,a.push("*");break}-1===a.indexOf(r)&&a.push(r)}return a};return function(t,n){var r=_e(n.swfPath);null===r&&(r=t);var a=e(n.trustedDomains),i=a.length;if(i>0){if(1===i&&"*"===a[0])return"always";if(-1!==a.indexOf(t))return 1===i&&t===r?"sameDomain":"always"}return"never"}}(),Se=function(){try{return o.activeElement}catch(e){return null}},ze=function(e,t){var n,r,a,i=[];if("string"==typeof t&&t&&(i=t.split(/\s+/)),e&&1===e.nodeType&&i.length>0)if(e.classList)for(n=0,r=i.length;r>n;n++)e.classList.add(i[n]);else if(e.hasOwnProperty("className")){for(a=" "+e.className+" ",n=0,r=i.length;r>n;n++)-1===a.indexOf(" "+i[n]+" ")&&(a+=i[n]+" ");e.className=a.replace(/^\s+|\s+$/g,"")}return e},Ze=function(e,t){var n,r,a,i=[];if("string"==typeof t&&t&&(i=t.split(/\s+/)),e&&1===e.nodeType&&i.length>0)if(e.classList&&e.classList.length>0)for(n=0,r=i.length;r>n;n++)e.classList.remove(i[n]);else if(e.className){for(a=(" "+e.className+" ").replace(/[\r\n\t]/g," "),n=0,r=i.length;r>n;n++)a=a.replace(" "+i[n]+" "," ");e.className=a.replace(/^\s+|\s+$/g,"")}return e},Ve=function(e,t){var n=d(e,null).getPropertyValue(t);return"cursor"!==t||n&&"auto"!==n||"A"!==e.nodeName?n:"pointer"},Xe=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),r=i.pageXOffset,a=i.pageYOffset,l=o.documentElement.clientLeft||0,s=o.documentElement.clientTop||0,c=0,u=0;if("relative"===Ve(o.body,"position")){var f=o.body.getBoundingClientRect(),d=o.documentElement.getBoundingClientRect();c=f.left-d.left||0,u=f.top-d.top||0}t.left=n.left+r-l-c,t.top=n.top+a-s-u,t.width="width"in n?n.width:n.right-n.left,t.height="height"in n?n.height:n.bottom-n.top}return t},$e=function(e){if(!e)return!1;var t=d(e,null),n=v(t.height)>0,r=v(t.width)>0,a=v(t.top)>=0,i=v(t.left)>=0,o=n&&r&&a&&i,l=o?null:Xe(e),s="none"!==t.display&&"collapse"!==t.visibility&&(o||!!l&&(n||l.height>0)&&(r||l.width>0)&&(a||l.top>=0)&&(i||l.left>=0));return s},Ye=function(){c(P),P=0,f(H),H=0},Be=function(){var e;if(r&&(e=De(X.bridge))){var t=Xe(r);D(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+Pe(G.zIndex)})}},Me=function(e){X.ready===!0&&(X.bridge&&"function"==typeof X.bridge.setHandCursor?X.bridge.setHandCursor(e):X.ready=!1)},Pe=function(e){if(/^(?:auto|inherit)$/.test(e))return e;var t;return"number"!=typeof e||g(e)?"string"==typeof e&&(t=Pe(y(e,10))):t=e,"number"==typeof t?t:"auto"},He=function(t){var n,r,a,i=X.sandboxed,o=null;if(t=t===!0,V===!1)o=!1;else{try{r=e.frameElement||null}catch(l){a={name:l.name,message:l.message}}if(r&&1===r.nodeType&&"IFRAME"===r.nodeName)try{o=r.hasAttribute("sandbox")}catch(l){o=null}else{try{n=document.domain||null}catch(l){n=null}(null===n||a&&"SecurityError"===a.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(a.message.toLowerCase()))&&(o=!0)}}return X.sandboxed=o,i===o||t||Re(h),o},Re=function(e){function t(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function n(e){return!!e&&(e=e.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e)||"chrome.plugin"===e.slice(-13))}function r(e){e&&(s=!0,e.version&&(f=t(e.version)),!f&&e.description&&(f=t(e.description)),e.filename&&(u=n(e.filename)))}var a,i,o,s=!1,c=!1,u=!1,f="";if(l.plugins&&l.plugins.length)a=l.plugins["Shockwave Flash"],r(a),l.plugins["Shockwave Flash 2.0"]&&(s=!0,f="2.0.0.11");else if(l.mimeTypes&&l.mimeTypes.length)o=l.mimeTypes["application/x-shockwave-flash"],a=o&&o.enabledPlugin,r(a);else if("undefined"!=typeof e){c=!0;try{i=new e("ShockwaveFlash.ShockwaveFlash.7"),s=!0,f=t(i.GetVariable("$version"))}catch(d){try{i=new e("ShockwaveFlash.ShockwaveFlash.6"),s=!0,f="6.0.21"}catch(p){try{i=new e("ShockwaveFlash.ShockwaveFlash"),s=!0,f=t(i.GetVariable("$version"))}catch(h){c=!1}}}}X.disabled=s!==!0,X.outdated=f&&v(f)<v($),X.version=f||"0.0.0",X.pluginType=u?"pepper":c?"activex":s?"netscape":"unknown"};Re(h),He(!0);var Je=function(){return this instanceof Je?void("function"==typeof Je._createClient&&Je._createClient.apply(this,j(arguments))):new Je};x(Je,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Je.config=function(){return q.apply(this,j(arguments))},Je.state=function(){return Q.apply(this,j(arguments))},Je.isFlashUnusable=function(){return ee.apply(this,j(arguments))},Je.on=function(){return te.apply(this,j(arguments))},Je.off=function(){return ne.apply(this,j(arguments))},Je.handlers=function(){return re.apply(this,j(arguments))},Je.emit=function(){return ae.apply(this,j(arguments))},Je.create=function(){return ie.apply(this,j(arguments))},Je.destroy=function(){return oe.apply(this,j(arguments))},Je.setData=function(){return le.apply(this,j(arguments))},Je.clearData=function(){return se.apply(this,j(arguments))},Je.getData=function(){return ce.apply(this,j(arguments))},Je.focus=Je.activate=function(){return ue.apply(this,j(arguments))},Je.blur=Je.deactivate=function(){return fe.apply(this,j(arguments))},Je.activeElement=function(){return de.apply(this,j(arguments))};var Ke=0,Ue={},We=0,Ge={},qe={};D(G,{autoActivate:!0});var Qe=function(e){var t=this;t.id=""+Ke++,Ue[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Je.on("*",function(e){return t.emit(e)}),Je.on("destroy",function(){t.destroy()}),Je.create()},et=function(e,r){var a,i,o,l={},s=Ue[this.id],c=s&&s.handlers;if(!s)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof e&&e)o=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof r)for(a in e)C.call(e,a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&this.on(a,e[a]);if(o&&o.length){for(a=0,i=o.length;i>a;a++)e=o[a].replace(/^on/,""),l[e]=!0,c[e]||(c[e]=[]),c[e].push(r);if(l.ready&&X.ready&&this.emit({type:"ready",client:this}),l.error){for(a=0,i=K.length;i>a;a++)if(X[K[a].replace(/^flash-/,"")]){this.emit({type:"error",name:K[a],client:this});break}n!==t&&Je.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Je.version,swfVersion:n})}}return this},tt=function(e,t){var n,r,a,i,o,l=Ue[this.id],s=l&&l.handlers;if(!s)return this;if(0===arguments.length)i=w(s);else if("string"==typeof e&&e)i=e.split(/\s+/);else if("object"==typeof e&&e&&"undefined"==typeof t)for(n in e)C.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(i&&i.length)for(n=0,r=i.length;r>n;n++)if(e=i[n].toLowerCase().replace(/^on/,""),o=s[e],o&&o.length)if(t)for(a=o.indexOf(t);-1!==a;)o.splice(a,1),a=o.indexOf(t,a);else o.length=0;return this},nt=function(e){var t=null,n=Ue[this.id]&&Ue[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:k(n)),t},rt=function(e){if(st.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=D({},e));var t=D({},he(e),{client:this});ct.call(this,t)}return this},at=function(e){if(!Ue[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");e=ut(e);for(var t=0;t<e.length;t++)if(C.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===Ge[e[t].zcClippingId].indexOf(this.id)&&Ge[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+We++,Ge[e[t].zcClippingId]=[this.id],G.autoActivate===!0&&ft(e[t]));var n=Ue[this.id]&&Ue[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this},it=function(e){var t=Ue[this.id];if(!t)return this;var n,r=t.elements;e="undefined"==typeof e?r.slice(0):ut(e);for(var a=e.length;a--;)if(C.call(e,a)&&e[a]&&1===e[a].nodeType){for(n=0;-1!==(n=r.indexOf(e[a],n));)r.splice(n,1);var i=Ge[e[a].zcClippingId];if(i){for(n=0;-1!==(n=i.indexOf(this.id,n));)i.splice(n,1);0===i.length&&(G.autoActivate===!0&&dt(e[a]),delete e[a].zcClippingId)}}return this},ot=function(){var e=Ue[this.id];return e&&e.elements?e.elements.slice(0):[]},lt=function(){Ue[this.id]&&(this.unclip(),this.off(),delete Ue[this.id])},st=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=Ue[this.id],n=t&&t.elements,r=!!n&&n.length>0,a=!e.target||r&&-1!==n.indexOf(e.target),i=e.relatedTarget&&r&&-1!==n.indexOf(e.relatedTarget),o=e.client&&e.client===this;return t&&(a||i||o)?!0:!1},ct=function(e){var t=Ue[this.id];if("object"==typeof e&&e&&e.type&&t){var n=ve(e),r=t&&t.handlers["*"]||[],a=t&&t.handlers[e.type]||[],o=r.concat(a);if(o&&o.length){var l,s,c,u,f,d=this;for(l=0,s=o.length;s>l;l++)c=o[l],u=d,"string"==typeof c&&"function"==typeof i[c]&&(c=i[c]),"object"==typeof c&&c&&"function"==typeof c.handleEvent&&(u=c,c=c.handleEvent),"function"==typeof c&&(f=D({},e),ge(c,u,[f],n))}}},ut=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},ft=function(e){if(e&&1===e.nodeType){var t=function(e){(e||(e=i.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},n=function(n){(n||(n=i.event))&&(t(n),Je.focus(e))};e.addEventListener("mouseover",n,!1),e.addEventListener("mouseout",t,!1),e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",t,!1),e.addEventListener("mousemove",t,!1),qe[e.zcClippingId]={mouseover:n,mouseout:t,mouseenter:t,mouseleave:t,mousemove:t}}},dt=function(e){if(e&&1===e.nodeType){var t=qe[e.zcClippingId];if("object"==typeof t&&t){for(var n,r,a=["move","leave","enter","out","over"],i=0,o=a.length;o>i;i++)n="mouse"+a[i],r=t[n],"function"==typeof r&&e.removeEventListener(n,r,!1);delete qe[e.zcClippingId]}}};Je._createClient=function(){Qe.apply(this,j(arguments))},Je.prototype.on=function(){return et.apply(this,j(arguments))},Je.prototype.off=function(){return tt.apply(this,j(arguments))},Je.prototype.handlers=function(){return nt.apply(this,j(arguments))},Je.prototype.emit=function(){return rt.apply(this,j(arguments))},Je.prototype.clip=function(){return at.apply(this,j(arguments))},Je.prototype.unclip=function(){return it.apply(this,j(arguments))},Je.prototype.elements=function(){return ot.apply(this,j(arguments))},Je.prototype.destroy=function(){return lt.apply(this,j(arguments))},Je.prototype.setText=function(e){if(!Ue[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Je.setData("text/plain",e),this},Je.prototype.setHtml=function(e){if(!Ue[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Je.setData("text/html",e),this},Je.prototype.setRichText=function(e){if(!Ue[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Je.setData("application/rtf",e),this},Je.prototype.setData=function(){if(!Ue[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Je.setData.apply(this,j(arguments)),this},Je.prototype.clearData=function(){if(!Ue[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Je.clearData.apply(this,j(arguments)),this},Je.prototype.getData=function(){if(!Ue[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Je.getData.apply(this,j(arguments))},"function"==typeof define&&define.amd?define(function(){return Je}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Je:e.ZeroClipboard=Je}(function(){return this||window}());
(function(){var t;t=jQuery,t.bootstrapGrowl=function(s,e){var a,o,i;switch(e=t.extend({},t.bootstrapGrowl.default_options,e),a=t("<div>"),a.attr("class","bootstrap-growl alert"),e.type&&a.addClass("alert-"+e.type),e.allow_dismiss&&(a.addClass("alert-dismissible"),a.append('<button class="close" data-dismiss="alert" type="button"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>')),a.append(s),e.top_offset&&(e.offset={from:"top",amount:e.top_offset}),i=e.offset.amount,t(".bootstrap-growl").each(function(){return i=Math.max(i,parseInt(t(this).css(e.offset.from))+t(this).outerHeight()+e.stackup_spacing)}),o={position:"body"===e.ele?"fixed":"absolute",margin:0,"z-index":"9999",display:"none"},o[e.offset.from]=i+"px",a.css(o),"auto"!==e.width&&a.css("width",e.width+"px"),t(e.ele).append(a),e.align){case"center":a.css({left:"50%","margin-left":"-"+a.outerWidth()/2+"px"});break;case"left":a.css("left","20px");break;default:a.css("right","20px")}return a.fadeIn(),0<e.delay&&a.delay(e.delay).fadeOut(function(){return t(this).alert("close")}),a},t.bootstrapGrowl.default_options={ele:"body",type:"info",offset:{from:"top",amount:20},align:"right",width:250,delay:4e3,allow_dismiss:!0,stackup_spacing:10}}).call(this);
window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=$.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);
window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.ja=$.extend(window.ParsleyConfig.i18n.ja||{},{defaultMessage:"無効な値です。",type:{email:"正しいメールアドレスを入力してください。",url:"正しいURLを入力してください。",number:"正しい数字を入力してください。",integer:"正しい数値を入力してください。",digits:"正しい桁数で入力してください。",alphanum:"正しい英数字を入力してください。"},notblank:"この値を入力してください",required:"この値は必須です。",pattern:"この値は無効です。",min:"%s 以上の値にしてください。",max:"%s 以下の値にしてください。",range:"%s から %s の値にしてください。",minlength:"%s 文字以上で入力してください。",maxlength:"%s 文字以下で入力してください。",length:"%s から %s 文字の間で入力してください。",mincheck:"%s 個以上選択してください。",maxcheck:"%s 個以下選択してください。",check:"%s から %s 個選択してください。",equalto:"値が違います。"}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("ja",window.ParsleyConfig.i18n.ja,!0);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"undefined"==typeof e&&"undefined"!=typeof window.jQuery&&(e=window.jQuery);var t={attr:function(e,t,i){var n,s={},r=this.msieversion(),a=new RegExp("^"+t,"i");if("undefined"==typeof e||"undefined"==typeof e[0])return{};for(var o in e[0].attributes)if(n=e[0].attributes[o],"undefined"!=typeof n&&null!==n&&(!r||r>=8||n.specified)&&a.test(n.name)){if("undefined"!=typeof i&&new RegExp(i+"$","i").test(n.name))return!0;s[this.camelize(n.name.replace(t,""))]=this.deserializeValue(n.value)}return"undefined"==typeof i?s:!1},setAttr:function(e,t,i,n){e[0].setAttribute(this.dasherize(t+i),String(n))},get:function(e,t){for(var i=0,n=(t||"").split(".");this.isObject(e)||this.isArray(e);)if(e=e[n[i++]],i===n.length)return e;return void 0},hash:function(e){return String(Math.random()).substring(2,e?e+2:9)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return e===Object(e)},deserializeValue:function(t){var i;try{return t?"true"==t||("false"==t?!1:"null"==t?null:isNaN(i=Number(t))?/^[\[\{]/.test(t)?e.parseJSON(t):t:i):t}catch(n){return t}},camelize:function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},dasherize:function(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},msieversion:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");return t>0||navigator.userAgent.match(/Trident.*rv\:11\./)?parseInt(e.substring(t+5,e.indexOf(".",t)),10):0}},i={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(){},errorsContainer:function(){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},n=function(){};n.prototype={asyncSupport:!1,actualizeOptions:function(){return this.options=this.OptionsFactory.get(this),this},validateThroughValidator:function(e,t,i){return window.ParsleyValidator.validate.apply(window.ParsleyValidator,[e,t,i])},subscribe:function(t,i){return e.listenTo(this,t.toLowerCase(),i),this},unsubscribe:function(t){return e.unsubscribeTo(this,t.toLowerCase()),this},reset:function(){if("ParsleyForm"!==this.__class__)return e.emit("parsley:field:reset",this);for(var t=0;t<this.fields.length;t++)e.emit("parsley:field:reset",this.fields[t]);e.emit("parsley:form:reset",this)},destroy:function(){if("ParsleyForm"!==this.__class__)return this.$element.removeData("Parsley"),this.$element.removeData("ParsleyFieldMultiple"),void e.emit("parsley:field:destroy",this);for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();this.$element.removeData("Parsley"),e.emit("parsley:form:destroy",this)}};var s=function(){var e={},t=function(e){this.__class__="Validator",this.__version__="1.0.0",this.options=e||{},this.bindingKey=this.options.bindingKey||"_validatorjsConstraint"};t.prototype={constructor:t,validate:function(e,t,i){if("string"!=typeof e&&"object"!=typeof e)throw new Error("You must validate an object or a string");return"string"==typeof e||a(e)?this._validateString(e,t,i):this.isBinded(e)?this._validateBindedObject(e,t):this._validateObject(e,t,i)},bind:function(e,t){if("object"!=typeof e)throw new Error("Must bind a Constraint to an object");return e[this.bindingKey]=new i(t),this},unbind:function(e){return"undefined"==typeof e._validatorjsConstraint?this:(delete e[this.bindingKey],this)},isBinded:function(e){return"undefined"!=typeof e[this.bindingKey]},getBinded:function(e){return this.isBinded(e)?e[this.bindingKey]:null},_validateString:function(e,t,i){var r,o=[];a(t)||(t=[t]);for(var l=0;l<t.length;l++){if(!(t[l]instanceof s))throw new Error("You must give an Assert or an Asserts array to validate a string");r=t[l].check(e,i),r instanceof n&&o.push(r)}return o.length?o:!0},_validateObject:function(e,t,n){if("object"!=typeof t)throw new Error("You must give a constraint to validate an object");return t instanceof i?t.check(e,n):new i(t).check(e,n)},_validateBindedObject:function(e,t){return e[this.bindingKey].check(e,t)}},t.errorCode={must_be_a_string:"must_be_a_string",must_be_an_array:"must_be_an_array",must_be_a_number:"must_be_a_number",must_be_a_string_or_array:"must_be_a_string_or_array"};var i=function(e,t){if(this.__class__="Constraint",this.options=t||{},this.nodes={},e)try{this._bootstrap(e)}catch(i){throw new Error("Should give a valid mapping object to Constraint",i,e)}};i.prototype={constructor:i,check:function(e,t){var i,n={};for(var o in this.nodes){for(var l=!1,u=this.get(o),h=a(u)?u:[u],d=h.length-1;d>=0;d--)"Required"!==h[d].__class__||(l=h[d].requiresValidation(t));if(this.has(o,e)||this.options.strict||l)try{this.has(o,this.options.strict||l?e:void 0)||(new s).HaveProperty(o).validate(e),i=this._check(o,e[o],t),(a(i)&&i.length>0||!a(i)&&!r(i))&&(n[o]=i)}catch(f){n[o]=f}}return r(n)?!0:n},add:function(e,t){if(t instanceof s||a(t)&&t[0]instanceof s)return this.nodes[e]=t,this;if("object"==typeof t&&!a(t))return this.nodes[e]=t instanceof i?t:new i(t),this;throw new Error("Should give an Assert, an Asserts array, a Constraint",t)},has:function(e,t){return t="undefined"!=typeof t?t:this.nodes,"undefined"!=typeof t[e]},get:function(e,t){return this.has(e)?this.nodes[e]:t||null},remove:function(e){var t=[];for(var i in this.nodes)i!==e&&(t[i]=this.nodes[i]);return this.nodes=t,this},_bootstrap:function(e){if(e instanceof i)return this.nodes=e.nodes;for(var t in e)this.add(t,e[t])},_check:function(e,t,n){if(this.nodes[e]instanceof s)return this._checkAsserts(t,[this.nodes[e]],n);if(a(this.nodes[e]))return this._checkAsserts(t,this.nodes[e],n);if(this.nodes[e]instanceof i)return this.nodes[e].check(t,n);throw new Error("Invalid node",this.nodes[e])},_checkAsserts:function(e,t,i){for(var n,s=[],r=0;r<t.length;r++)n=t[r].check(e,i),"undefined"!=typeof n&&!0!==n&&s.push(n);return s}};var n=function(e,t,i){if(this.__class__="Violation",!(e instanceof s))throw new Error("Should give an assertion implementing the Assert interface");this.assert=e,this.value=t,"undefined"!=typeof i&&(this.violation=i)};n.prototype={show:function(){var e={assert:this.assert.__class__,value:this.value};return this.violation&&(e.violation=this.violation),e},__toString:function(){return"undefined"!=typeof this.violation&&(this.violation='", '+this.getViolation().constraint+" expected was "+this.getViolation().expected),this.assert.__class__+' assert failed for "'+this.value+this.violation||""},getViolation:function(){var e,t;for(e in this.violation)t=this.violation[e];return{constraint:e,expected:t}}};var s=function(e){this.__class__="Assert",this.__parentClass__=this.__class__,this.groups=[],"undefined"!=typeof e&&this.addGroup(e)};s.prototype={construct:s,requiresValidation:function(e){return e&&!this.hasGroup(e)?!1:!e&&this.hasGroups()?!1:!0},check:function(e,t){if(this.requiresValidation(t))try{return this.validate(e,t)}catch(i){return i}},hasGroup:function(e){return a(e)?this.hasOneOf(e):"Any"===e?!0:this.hasGroups()?-1!==this.groups.indexOf(e):"Default"===e},hasOneOf:function(e){for(var t=0;t<e.length;t++)if(this.hasGroup(e[t]))return!0;return!1},hasGroups:function(){return this.groups.length>0},addGroup:function(e){return a(e)?this.addGroups(e):(this.hasGroup(e)||this.groups.push(e),this)},removeGroup:function(e){for(var t=[],i=0;i<this.groups.length;i++)e!==this.groups[i]&&t.push(this.groups[i]);return this.groups=t,this},addGroups:function(e){for(var t=0;t<e.length;t++)this.addGroup(e[t]);return this},HaveProperty:function(e){return this.__class__="HaveProperty",this.node=e,this.validate=function(e){if("undefined"==typeof e[this.node])throw new n(this,e,{value:this.node});return!0},this},Blank:function(){return this.__class__="Blank",this.validate=function(e){if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(""!==e.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new n(this,e);return!0},this},Callback:function(e){if(this.__class__="Callback",this.arguments=Array.prototype.slice.call(arguments),1===this.arguments.length?this.arguments=[]:this.arguments.splice(0,1),"function"!=typeof e)throw new Error("Callback must be instanciated with a function");return this.fn=e,this.validate=function(e){var t=this.fn.apply(this,[e].concat(this.arguments));if(!0!==t)throw new n(this,e,{result:t});return!0},this},Choice:function(e){if(this.__class__="Choice",!a(e)&&"function"!=typeof e)throw new Error("Choice must be instanciated with an array or a function");return this.list=e,this.validate=function(e){for(var t="function"==typeof this.list?this.list():this.list,i=0;i<t.length;i++)if(e===t[i])return!0;throw new n(this,e,{choices:t})},this},Collection:function(e){return this.__class__="Collection",this.constraint="undefined"!=typeof e?e instanceof s?e:new i(e):!1,this.validate=function(e,i){var s,o=new t,l=0,u={},h=this.groups.length?this.groups:i;if(!a(e))throw new n(this,array,{value:t.errorCode.must_be_an_array});for(var d=0;d<e.length;d++)s=this.constraint?o.validate(e[d],this.constraint,h):o.validate(e[d],h),r(s)||(u[l]=s),l++;return r(u)?!0:u},this},Count:function(e){return this.__class__="Count",this.count=e,this.validate=function(e){if(!a(e))throw new n(this,e,{value:t.errorCode.must_be_an_array});var i="function"==typeof this.count?this.count(e):this.count;if(isNaN(Number(i)))throw new Error("Count must be a valid interger",i);if(i!==e.length)throw new n(this,e,{count:i});return!0},this},Email:function(){return this.__class__="Email",this.validate=function(e){var i=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(!i.test(e))throw new n(this,e);return!0},this},EqualTo:function(e){if(this.__class__="EqualTo","undefined"==typeof e)throw new Error("EqualTo must be instanciated with a value or a function");return this.reference=e,this.validate=function(e){var t="function"==typeof this.reference?this.reference(e):this.reference;if(t!==e)throw new n(this,e,{value:t});return!0},this},GreaterThan:function(e){if(this.__class__="GreaterThan","undefined"==typeof e)throw new Error("Should give a threshold value");return this.threshold=e,this.validate=function(e){if(""===e||isNaN(Number(e)))throw new n(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold>=e)throw new n(this,e,{threshold:this.threshold});return!0},this},GreaterThanOrEqual:function(e){if(this.__class__="GreaterThanOrEqual","undefined"==typeof e)throw new Error("Should give a threshold value");return this.threshold=e,this.validate=function(e){if(""===e||isNaN(Number(e)))throw new n(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold>e)throw new n(this,e,{threshold:this.threshold});return!0},this},InstanceOf:function(e){if(this.__class__="InstanceOf","undefined"==typeof e)throw new Error("InstanceOf must be instanciated with a value");return this.classRef=e,this.validate=function(e){if(1!=e instanceof this.classRef)throw new n(this,e,{classRef:this.classRef});return!0},this},Length:function(e){if(this.__class__="Length",!e.min&&!e.max)throw new Error("Lenth assert must be instanciated with a { min: x, max: y } object");return this.min=e.min,this.max=e.max,this.validate=function(e){if("string"!=typeof e&&!a(e))throw new n(this,e,{value:t.errorCode.must_be_a_string_or_array});if("undefined"!=typeof this.min&&this.min===this.max&&e.length!==this.min)throw new n(this,e,{min:this.min,max:this.max});if("undefined"!=typeof this.max&&e.length>this.max)throw new n(this,e,{max:this.max});if("undefined"!=typeof this.min&&e.length<this.min)throw new n(this,e,{min:this.min});return!0},this},LessThan:function(e){if(this.__class__="LessThan","undefined"==typeof e)throw new Error("Should give a threshold value");return this.threshold=e,this.validate=function(e){if(""===e||isNaN(Number(e)))throw new n(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold<=e)throw new n(this,e,{threshold:this.threshold});return!0},this},LessThanOrEqual:function(e){if(this.__class__="LessThanOrEqual","undefined"==typeof e)throw new Error("Should give a threshold value");return this.threshold=e,this.validate=function(e){if(""===e||isNaN(Number(e)))throw new n(this,e,{value:t.errorCode.must_be_a_number});if(this.threshold<e)throw new n(this,e,{threshold:this.threshold});return!0},this},NotNull:function(){return this.__class__="NotNull",this.validate=function(e){if(null===e||"undefined"==typeof e)throw new n(this,e);return!0},this},NotBlank:function(){return this.__class__="NotBlank",this.validate=function(e){if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(""===e.replace(/^\s+/g,"").replace(/\s+$/g,""))throw new n(this,e);return!0},this},Null:function(){return this.__class__="Null",this.validate=function(e){if(null!==e)throw new n(this,e);return!0},this},Range:function(e,t){if(this.__class__="Range","undefined"==typeof e||"undefined"==typeof t)throw new Error("Range assert expects min and max values");return this.min=e,this.max=t,this.validate=function(e){try{return"string"==typeof e&&isNaN(Number(e))||a(e)?(new s).Length({min:this.min,max:this.max}).validate(e):(new s).GreaterThanOrEqual(this.min).validate(e)&&(new s).LessThanOrEqual(this.max).validate(e),!0}catch(t){throw new n(this,e,t.violation)}return!0},this},Regexp:function(e,i){if(this.__class__="Regexp","undefined"==typeof e)throw new Error("You must give a regexp");return this.regexp=e,this.flag=i||"",this.validate=function(e){if("string"!=typeof e)throw new n(this,e,{value:t.errorCode.must_be_a_string});if(!new RegExp(this.regexp,this.flag).test(e))throw new n(this,e,{regexp:this.regexp,flag:this.flag});return!0},this},Required:function(){return this.__class__="Required",this.validate=function(e){if("undefined"==typeof e)throw new n(this,e);try{"string"==typeof e?(new s).NotNull().validate(e)&&(new s).NotBlank().validate(e):!0===a(e)&&(new s).Length({min:1}).validate(e)}catch(t){throw new n(this,e)}return!0},this},Unique:function(e){return this.__class__="Unique","object"==typeof e&&(this.key=e.key),this.validate=function(e){var i,s=[];if(!a(e))throw new n(this,e,{value:t.errorCode.must_be_an_array});for(var r=0;r<e.length;r++)if(i="object"==typeof e[r]?e[r][this.key]:e[r],"undefined"!=typeof i){if(-1!==s.indexOf(i))throw new n(this,e,{value:i});s.push(i)}return!0},this}},e.Assert=s,e.Validator=t,e.Violation=n,e.Constraint=i,Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:0!==n&&1/0!=n&&n!=-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var s=n>=0?n:Math.max(i-Math.abs(n),0);i>s;s++)if(s in t&&t[s]===e)return s;return-1});var r=function(e){for(var t in e)return!1;return!0},a=function(e){return"[object Array]"===Object.prototype.toString.call(e)};return"function"==typeof define&&define.amd?define("vendors/validator.js/dist/validator",[],function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:window["undefined"!=typeof validatorjs_ns?validatorjs_ns:"Validator"]=e,e}();s="undefined"!=typeof s?s:"undefined"!=typeof module?module.exports:null;var r=function(e,t){this.__class__="ParsleyValidator",this.Validator=s,this.locale="en",this.init(e||{},t||{})};r.prototype={init:function(t,i){this.catalog=i;for(var n in t)this.addValidator(n,t[n].fn,t[n].priority,t[n].requirementsTransformer);e.emit("parsley:validator:init")},setLocale:function(e){if("undefined"==typeof this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function(e,t,i){return"object"==typeof t&&(this.catalog[e]=t),!0===i?this.setLocale(e):this},addMessage:function(e,t,i){return"undefined"==typeof this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][t.toLowerCase()]=i,this},validate:function(){return(new this.Validator.Validator).validate.apply(new s.Validator,arguments)},addValidator:function(t,i,n,r){return this.validators[t.toLowerCase()]=function(t){return e.extend((new s.Assert).Callback(i,t),{priority:n,requirementsTransformer:r})},this},updateValidator:function(e,t,i,n){return this.addValidator(e,t,i,n)},removeValidator:function(e){return delete this.validators[e],this},getErrorMessage:function(e){var t;return t="type"===e.name?this.catalog[this.locale][e.name][e.requirements]:this.formatMessage(this.catalog[this.locale][e.name],e.requirements),""!==t?t:this.catalog[this.locale].defaultMessage},formatMessage:function(e,t){if("object"==typeof t){for(var i in t)e=this.formatMessage(e,t[i]);return e}return"string"==typeof e?e.replace(new RegExp("%s","i"),t):""},validators:{notblank:function(){return e.extend((new s.Assert).NotBlank(),{priority:2})},required:function(){return e.extend((new s.Assert).Required(),{priority:512})},type:function(t){var i;switch(t){case"email":i=(new s.Assert).Email();break;case"range":case"number":i=(new s.Assert).Regexp("^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$");break;case"integer":i=(new s.Assert).Regexp("^-?\\d+$");break;case"digits":i=(new s.Assert).Regexp("^\\d+$");break;case"alphanum":i=(new s.Assert).Regexp("^\\w+$","i");break;case"url":i=(new s.Assert).Regexp("(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)","i");break;default:throw new Error("validator type `"+t+"` is not supported")}return e.extend(i,{priority:256})},pattern:function(t){var i="";return/^\/.*\/(?:[gimy]*)$/.test(t)&&(i=t.replace(/.*\/([gimy]*)$/,"$1"),t=t.replace(new RegExp("^/(.*?)/"+i+"$"),"$1")),e.extend((new s.Assert).Regexp(t,i),{priority:64})},minlength:function(t){return e.extend((new s.Assert).Length({min:t}),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},maxlength:function(t){return e.extend((new s.Assert).Length({max:t}),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},length:function(t){return e.extend((new s.Assert).Length({min:t[0],max:t[1]}),{priority:32})},mincheck:function(e){return this.minlength(e)},maxcheck:function(e){return this.maxlength(e)},check:function(e){return this.length(e)},min:function(t){return e.extend((new s.Assert).GreaterThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},max:function(t){return e.extend((new s.Assert).LessThanOrEqual(t),{priority:30,requirementsTransformer:function(){return"string"!=typeof t||isNaN(t)?t:parseInt(t,10)}})},range:function(t){return e.extend((new s.Assert).Range(t[0],t[1]),{priority:32,requirementsTransformer:function(){for(var e=0;e<t.length;e++)t[e]="string"!=typeof t[e]||isNaN(t[e])?t[e]:parseInt(t[e],10);return t}})},equalto:function(t){return e.extend((new s.Assert).EqualTo(t),{priority:256,requirementsTransformer:function(){return e(t).length?e(t).val():t}})}}};var a=function(){this.__class__="ParsleyUI"};a.prototype={listen:function(){return e.listen("parsley:form:init",this,this.setupForm),e.listen("parsley:field:init",this,this.setupField),e.listen("parsley:field:validated",this,this.reflow),e.listen("parsley:form:validated",this,this.focus),e.listen("parsley:field:reset",this,this.reset),e.listen("parsley:form:destroy",this,this.destroy),e.listen("parsley:field:destroy",this,this.destroy),this},reflow:function(e){if("undefined"!=typeof e._ui&&!1!==e._ui.active){var t=this._diff(e.validationResult,e._ui.lastValidationResult);e._ui.lastValidationResult=e.validationResult,e._ui.validatedOnce=!0,this.manageStatusClass(e),this.manageErrorsMessages(e,t),this.actualizeTriggers(e),(t.kept.length||t.added.length)&&"undefined"==typeof e._ui.failedOnce&&this.manageFailingFieldTrigger(e)}},getErrorsMessages:function(e){if(!0===e.validationResult)return[];for(var t=[],i=0;i<e.validationResult.length;i++)t.push(this._getErrorMessage(e,e.validationResult[i].assert));return t},manageStatusClass:function(e){!0===e.validationResult?this._successClass(e):e.validationResult.length>0?this._errorClass(e):this._resetClass(e)},manageErrorsMessages:function(t,i){if("undefined"==typeof t.options.errorsMessagesDisabled){if("undefined"!=typeof t.options.errorMessage)return i.added.length||i.kept.length?(0===t._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&t._ui.$errorsWrapper.append(e(t.options.errorTemplate).addClass("parsley-custom-error-message")),t._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(t.options.errorMessage)):t._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var n=0;n<i.removed.length;n++)this.removeError(t,i.removed[n].assert.name,!0);for(n=0;n<i.added.length;n++)this.addError(t,i.added[n].assert.name,void 0,i.added[n].assert,!0);for(n=0;n<i.kept.length;n++)this.updateError(t,i.kept[n].assert.name,void 0,i.kept[n].assert,!0)}},addError:function(t,i,n,s,r){t._ui.$errorsWrapper.addClass("filled").append(e(t.options.errorTemplate).addClass("parsley-"+i).html(n||this._getErrorMessage(t,s))),!0!==r&&this._errorClass(t)},updateError:function(e,t,i,n,s){e._ui.$errorsWrapper.addClass("filled").find(".parsley-"+t).html(i||this._getErrorMessage(e,n)),!0!==s&&this._errorClass(e)},removeError:function(e,t,i){e._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+t).remove(),!0!==i&&this.manageStatusClass(e)},focus:function(e){if(!0===e.validationResult||"none"===e.options.focus)return e._focusedField=null;e._focusedField=null;for(var t=0;t<e.fields.length;t++)if(!0!==e.fields[t].validationResult&&e.fields[t].validationResult.length>0&&"undefined"==typeof e.fields[t].options.noFocus){if("first"===e.options.focus)return e._focusedField=e.fields[t].$element,e._focusedField.focus();e._focusedField=e.fields[t].$element}return null===e._focusedField?null:e._focusedField.focus()},_getErrorMessage:function(e,t){var i=t.name+"Message";return"undefined"!=typeof e.options[i]?window.ParsleyValidator.formatMessage(e.options[i],t.requirements):window.ParsleyValidator.getErrorMessage(t)},_diff:function(e,t,i){for(var n=[],s=[],r=0;r<e.length;r++){for(var a=!1,o=0;o<t.length;o++)if(e[r].assert.name===t[o].assert.name){a=!0;break}a?s.push(e[r]):n.push(e[r])}return{kept:s,added:n,removed:i?[]:this._diff(t,e,!0).added}},setupForm:function(t){t.$element.on("submit.Parsley",!1,e.proxy(t.onSubmitValidate,t)),!1!==t.options.uiEnabled&&t.$element.attr("novalidate","")},setupField:function(t){var i={active:!1};!1!==t.options.uiEnabled&&(i.active=!0,t.$element.attr(t.options.namespace+"id",t.__id__),i.$errorClassHandler=this._manageClassHandler(t),i.errorsWrapperId="parsley-id-"+("undefined"!=typeof t.options.multiple?"multiple-"+t.options.multiple:t.__id__),i.$errorsWrapper=e(t.options.errorsWrapper).attr("id",i.errorsWrapperId),i.lastValidationResult=[],i.validatedOnce=!1,i.validationInformationVisible=!1,t._ui=i,t.$element.is(t.options.excluded)||this._insertErrorWrapper(t),this.actualizeTriggers(t))},_manageClassHandler:function(t){if("string"==typeof t.options.classHandler&&e(t.options.classHandler).length)return e(t.options.classHandler);var i=t.options.classHandler(t);return"undefined"!=typeof i&&i.length?i:"undefined"==typeof t.options.multiple||t.$element.is("select")?t.$element:t.$element.parent()},_insertErrorWrapper:function(t){var i;if("string"==typeof t.options.errorsContainer){if(e(t.options.errorsContainer).length)return e(t.options.errorsContainer).append(t._ui.$errorsWrapper);window.console&&window.console.warn&&window.console.warn("The errors container `"+t.options.errorsContainer+"` does not exist in DOM")}else"function"==typeof t.options.errorsContainer&&(i=t.options.errorsContainer(t));return"undefined"!=typeof i&&i.length?i.append(t._ui.$errorsWrapper):"undefined"==typeof t.options.multiple?t.$element.after(t._ui.$errorsWrapper):t.$element.parent().after(t._ui.$errorsWrapper)},actualizeTriggers:function(t){var i=this;if(t.options.multiple?e("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){e(this).off(".Parsley")}):t.$element.off(".Parsley"),!1!==t.options.trigger){var n=t.options.trigger.replace(/^\s+/g,"").replace(/\s+$/g,"");""!==n&&(t.options.multiple?e("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){e(this).on(n.split(" ").join(".Parsley ")+".Parsley",!1,e.proxy("function"==typeof t.eventValidate?t.eventValidate:i.eventValidate,t))}):t.$element.on(n.split(" ").join(".Parsley ")+".Parsley",!1,e.proxy("function"==typeof t.eventValidate?t.eventValidate:this.eventValidate,t)))}},eventValidate:function(e){new RegExp("key").test(e.type)&&!this._ui.validationInformationVisible&&this.getValue().length<=this.options.validationThreshold||(this._ui.validatedOnce=!0,this.validate())},manageFailingFieldTrigger:function(t){return t._ui.failedOnce=!0,t.options.multiple&&e("["+t.options.namespace+'multiple="'+t.options.multiple+'"]').each(function(){return new RegExp("change","i").test(e(this).parsley().options.trigger||"")?void 0:e(this).on("change.ParsleyFailedOnce",!1,e.proxy(t.validate,t))}),t.$element.is("select")&&!new RegExp("change","i").test(t.options.trigger||"")?t.$element.on("change.ParsleyFailedOnce",!1,e.proxy(t.validate,t)):new RegExp("keyup","i").test(t.options.trigger||"")?void 0:t.$element.on("keyup.ParsleyFailedOnce",!1,e.proxy(t.validate,t))},reset:function(e){e.$element.off(".Parsley"),e.$element.off(".ParsleyFailedOnce"),"undefined"!=typeof e._ui&&"ParsleyForm"!==e.__class__&&(e._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(e),e._ui.validatedOnce=!1,e._ui.lastValidationResult=[],e._ui.validationInformationVisible=!1)},destroy:function(e){this.reset(e),"ParsleyForm"!==e.__class__&&("undefined"!=typeof e._ui&&e._ui.$errorsWrapper.remove(),delete e._ui)},_successClass:function(e){e._ui.validationInformationVisible=!0,e._ui.$errorClassHandler.removeClass(e.options.errorClass).addClass(e.options.successClass)},_errorClass:function(e){e._ui.validationInformationVisible=!0,e._ui.$errorClassHandler.removeClass(e.options.successClass).addClass(e.options.errorClass)},_resetClass:function(e){e._ui.$errorClassHandler.removeClass(e.options.successClass).removeClass(e.options.errorClass)}};var o=function(i,n,s,r){this.__class__="OptionsFactory",this.__id__=t.hash(4),this.formOptions=null,this.fieldOptions=null,this.staticOptions=e.extend(!0,{},i,n,s,{namespace:r})};o.prototype={get:function(e){if("undefined"==typeof e.__class__)throw new Error("Parsley Instance expected");switch(e.__class__){case"Parsley":return this.staticOptions;case"ParsleyForm":return this.getFormOptions(e);case"ParsleyField":case"ParsleyFieldMultiple":return this.getFieldOptions(e);default:throw new Error("Instance "+e.__class__+" is not supported")}},getFormOptions:function(i){return this.formOptions=t.attr(i.$element,this.staticOptions.namespace),e.extend({},this.staticOptions,this.formOptions)},getFieldOptions:function(i){return this.fieldOptions=t.attr(i.$element,this.staticOptions.namespace),null===this.formOptions&&"undefined"!=typeof i.parent&&(this.formOptions=this.getFormOptions(i.parent)),e.extend({},this.staticOptions,this.formOptions,this.fieldOptions)}};var l=function(i,n){if(this.__class__="ParsleyForm",this.__id__=t.hash(4),"OptionsFactory"!==t.get(n,"__class__"))throw new Error("You must give an OptionsFactory instance");this.OptionsFactory=n,this.$element=e(i),this.validationResult=null,this.options=this.OptionsFactory.get(this)};l.prototype={onSubmitValidate:function(t){return this.validate(void 0,void 0,t),!1===this.validationResult&&t instanceof e.Event&&(t.stopImmediatePropagation(),t.preventDefault()),this},validate:function(t,i,n){this.submitEvent=n,this.validationResult=!0;var s=[];this._refreshFields(),e.emit("parsley:form:validate",this);for(var r=0;r<this.fields.length;r++)(!t||this._isFieldInGroup(this.fields[r],t))&&(s=this.fields[r].validate(i),!0!==s&&s.length>0&&this.validationResult&&(this.validationResult=!1));return e.emit("parsley:form:validated",this),this.validationResult},isValid:function(e,t){this._refreshFields();for(var i=0;i<this.fields.length;i++)if((!e||this._isFieldInGroup(this.fields[i],e))&&!1===this.fields[i].isValid(t))return!1;return!0},_isFieldInGroup:function(i,n){return t.isArray(i.options.group)?-1!==e.inArray(n,i.options.group):i.options.group===n},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var e=this;return this.fields=[],this.fieldsMappedById={},this.$element.find(this.options.inputs).each(function(){var t=new window.Parsley(this,{},e);"ParsleyField"!==t.__class__&&"ParsleyFieldMultiple"!==t.__class__||t.$element.is(t.options.excluded)||"undefined"==typeof e.fieldsMappedById[t.__class__+"-"+t.__id__]&&(e.fieldsMappedById[t.__class__+"-"+t.__id__]=t,e.fields.push(t))}),this}};var u=function(i,n,s,r,a){if(!new RegExp("ParsleyField").test(t.get(i,"__class__")))throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");if("function"!=typeof window.ParsleyValidator.validators[n]&&"Assert"!==window.ParsleyValidator.validators[n](s).__parentClass__)throw new Error("Valid validator expected");var o=function(e,i){return"undefined"!=typeof e.options[i+"Priority"]?e.options[i+"Priority"]:t.get(window.ParsleyValidator.validators[i](s),"priority")||2};return r=r||o(i,n),"function"==typeof window.ParsleyValidator.validators[n](s).requirementsTransformer&&(s=window.ParsleyValidator.validators[n](s).requirementsTransformer()),e.extend(window.ParsleyValidator.validators[n](s),{name:n,requirements:s,priority:r,groups:[r],isDomConstraint:a||t.attr(i.$element,i.options.namespace,n)})},h=function(i,n,s){this.__class__="ParsleyField",this.__id__=t.hash(4),this.$element=e(i),"undefined"!=typeof s?(this.parent=s,this.OptionsFactory=this.parent.OptionsFactory,this.options=this.OptionsFactory.get(this)):(this.OptionsFactory=n,this.options=this.OptionsFactory.get(this)),this.constraints=[],this.constraintsByName={},this.validationResult=[],this._bindConstraints()};h.prototype={validate:function(t){return this.value=this.getValue(),e.emit("parsley:field:validate",this),e.emit("parsley:field:"+(this.isValid(t,this.value)?"success":"error"),this),e.emit("parsley:field:validated",this),this.validationResult},isValid:function(e,t){this.refreshConstraints();var i=this._getConstraintsSortedPriorities();if(0===i.length)return this.validationResult=[];if(t=t||this.getValue(),!t.length&&!this._isRequired()&&"undefined"==typeof this.options.validateIfEmpty&&!0!==e)return this.validationResult=[];if(!1===this.options.priorityEnabled)return!0===(this.validationResult=this.validateThroughValidator(t,this.constraints,"Any"));for(var n=0;n<i.length;n++)if(!0!==(this.validationResult=this.validateThroughValidator(t,this.constraints,i[n])))return!1;

return!0},getValue:function(){var e;return e="undefined"!=typeof this.options.value?this.options.value:this.$element.val(),"undefined"==typeof e||null===e?"":!0===this.options.trimValue?e.replace(/^\s+|\s+$/g,""):e},refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},addConstraint:function(e,t,i,n){if(e=e.toLowerCase(),"function"==typeof window.ParsleyValidator.validators[e]){var s=new u(this,e,t,i,n);"undefined"!==this.constraintsByName[s.name]&&this.removeConstraint(s.name),this.constraints.push(s),this.constraintsByName[s.name]=s}return this},removeConstraint:function(e){for(var t=0;t<this.constraints.length;t++)if(e===this.constraints[t].name){this.constraints.splice(t,1);break}return delete this.constraintsByName[e],this},updateConstraint:function(e,t,i){return this.removeConstraint(e).addConstraint(e,t,i)},_bindConstraints:function(){for(var e=[],t={},i=0;i<this.constraints.length;i++)!1===this.constraints[i].isDomConstraint&&(e.push(this.constraints[i]),t[this.constraints[i].name]=this.constraints[i]);this.constraints=e,this.constraintsByName=t;for(var n in this.options)this.addConstraint(n,this.options[n]);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.attr("required"))&&this.addConstraint("required",!0,void 0,!0),"string"==typeof this.$element.attr("pattern")&&this.addConstraint("pattern",this.$element.attr("pattern"),void 0,!0),"undefined"!=typeof this.$element.attr("min")&&"undefined"!=typeof this.$element.attr("max")?this.addConstraint("range",[this.$element.attr("min"),this.$element.attr("max")],void 0,!0):"undefined"!=typeof this.$element.attr("min")?this.addConstraint("min",this.$element.attr("min"),void 0,!0):"undefined"!=typeof this.$element.attr("max")&&this.addConstraint("max",this.$element.attr("max"),void 0,!0);var e=this.$element.attr("type");return"undefined"==typeof e?this:"number"===e?"undefined"==typeof this.$element.attr("step")||0===parseFloat(this.$element.attr("step"))%1?this.addConstraint("type","integer",void 0,!0):this.addConstraint("type","number",void 0,!0):new RegExp(e,"i").test("email url range")?this.addConstraint("type",e,void 0,!0):this},_isRequired:function(){return"undefined"==typeof this.constraintsByName.required?!1:!1!==this.constraintsByName.required.requirements},_getConstraintsSortedPriorities:function(){for(var e=[],t=0;t<this.constraints.length;t++)-1===e.indexOf(this.constraints[t].priority)&&e.push(this.constraints[t].priority);return e.sort(function(e,t){return t-e}),e}};var d=function(){this.__class__="ParsleyFieldMultiple"};d.prototype={addElement:function(e){return this.$elements.push(e),this},refreshConstraints:function(){var t;if(this.constraints=[],this.$element.is("select"))return this.actualizeOptions()._bindConstraints(),this;for(var i=0;i<this.$elements.length;i++)if(e("html").has(this.$elements[i]).length){t=this.$elements[i].data("ParsleyFieldMultiple").refreshConstraints().constraints;for(var n=0;n<t.length;n++)this.addConstraint(t[n].name,t[n].requirements,t[n].priority,t[n].isDomConstraint)}else this.$elements.splice(i,1);return this},getValue:function(){if("undefined"!=typeof this.options.value)return this.options.value;if(this.$element.is("input[type=radio]"))return e("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').val()||"";if(this.$element.is("input[type=checkbox]")){var t=[];return e("["+this.options.namespace+'multiple="'+this.options.multiple+'"]:checked').each(function(){t.push(e(this).val())}),t.length?t:[]}return this.$element.is("select")&&null===this.$element.val()?[]:this.$element.val()},_init:function(e){return this.$elements=[this.$element],this.options.multiple=e,this}};var f=e({}),p={};e.listen=function(e){if("undefined"==typeof p[e]&&(p[e]=[]),"function"==typeof arguments[1])return p[e].push({fn:arguments[1]});if("object"==typeof arguments[1]&&"function"==typeof arguments[2])return p[e].push({fn:arguments[2],ctxt:arguments[1]});throw new Error("Wrong parameters")},e.listenTo=function(e,t,i){if("undefined"==typeof p[t]&&(p[t]=[]),!(e instanceof h||e instanceof l))throw new Error("Must give Parsley instance");if("string"!=typeof t||"function"!=typeof i)throw new Error("Wrong parameters");p[t].push({instance:e,fn:i})},e.unsubscribe=function(e,t){if("undefined"!=typeof p[e]){if("string"!=typeof e||"function"!=typeof t)throw new Error("Wrong arguments");for(var i=0;i<p[e].length;i++)if(p[e][i].fn===t)return p[e].splice(i,1)}},e.unsubscribeTo=function(e,t){if("undefined"!=typeof p[t]){if(!(e instanceof h||e instanceof l))throw new Error("Must give Parsley instance");for(var i=0;i<p[t].length;i++)if("undefined"!=typeof p[t][i].instance&&p[t][i].instance.__id__===e.__id__)return p[t].splice(i,1)}},e.unsubscribeAll=function(e){"undefined"!=typeof p[e]&&delete p[e]},e.emit=function(e,t){if("undefined"!=typeof p[e])for(var i=0;i<p[e].length;i++)if("undefined"!=typeof p[e][i].instance){if(t instanceof h||t instanceof l)if(p[e][i].instance.__id__!==t.__id__){if(p[e][i].instance instanceof l&&t instanceof h)for(var n=0;n<p[e][i].instance.fields.length;n++)if(p[e][i].instance.fields[n].__id__===t.__id__){p[e][i].fn.apply(f,Array.prototype.slice.call(arguments,1));continue}}else p[e][i].fn.apply(f,Array.prototype.slice.call(arguments,1))}else p[e][i].fn.apply("undefined"!=typeof p[e][i].ctxt?p[e][i].ctxt:f,Array.prototype.slice.call(arguments,1))},e.subscribed=function(){return p},window.ParsleyConfig=window.ParsleyConfig||{},window.ParsleyConfig.i18n=window.ParsleyConfig.i18n||{},window.ParsleyConfig.i18n.en=e.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),"undefined"!=typeof window.ParsleyValidator&&window.ParsleyValidator.addCatalog("en",window.ParsleyConfig.i18n.en,!0);var c=function(i,n,s){if(this.__class__="Parsley",this.__version__="2.0.6",this.__id__=t.hash(4),"undefined"==typeof i)throw new Error("You must give an element");if("undefined"!=typeof s&&"ParsleyForm"!==s.__class__)throw new Error("Parent instance must be a ParsleyForm instance");return this.init(e(i),n,s)};c.prototype={init:function(e,n,s){if(!e.length)throw new Error("You must bind Parsley on an existing element.");if(this.$element=e,this.$element.data("Parsley")){var r=this.$element.data("Parsley");return"undefined"!=typeof s&&(r.parent=s),r}return this.OptionsFactory=new o(i,t.get(window,"ParsleyConfig")||{},n,this.getNamespace(n)),this.options=this.OptionsFactory.get(this),this.$element.is("form")||t.attr(this.$element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.$element.is(this.options.inputs)&&!this.$element.is(this.options.excluded)?this.isMultiple()?this.handleMultiple(s):this.bind("parsleyField",s):this},isMultiple:function(){return this.$element.is("input[type=radio], input[type=checkbox]")&&"undefined"==typeof this.options.multiple||this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple")},handleMultiple:function(i){var n,s,r,a=this;if(this.options=e.extend(this.options,i?i.OptionsFactory.get(i):{},t.attr(this.$element,this.options.namespace)),this.options.multiple?s=this.options.multiple:"undefined"!=typeof this.$element.attr("name")&&this.$element.attr("name").length?s=n=this.$element.attr("name"):"undefined"!=typeof this.$element.attr("id")&&this.$element.attr("id").length&&(s=this.$element.attr("id")),this.$element.is("select")&&"undefined"!=typeof this.$element.attr("multiple"))return this.bind("parsleyFieldMultiple",i,s||this.__id__);if("undefined"==typeof s)return window.console&&window.console.warn&&window.console.warn("To be binded by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;if(s=s.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),"undefined"!=typeof n&&e('input[name="'+n+'"]').each(function(){e(this).is("input[type=radio], input[type=checkbox]")&&e(this).attr(a.options.namespace+"multiple",s)}),e("["+this.options.namespace+"multiple="+s+"]").length)for(var o=0;o<e("["+this.options.namespace+"multiple="+s+"]").length;o++)if("undefined"!=typeof e(e("["+this.options.namespace+"multiple="+s+"]").get(o)).data("Parsley")){r=e(e("["+this.options.namespace+"multiple="+s+"]").get(o)).data("Parsley"),this.$element.data("ParsleyFieldMultiple")||(r.addElement(this.$element),this.$element.attr(this.options.namespace+"id",r.__id__));break}return this.bind("parsleyField",i,s,!0),r||this.bind("parsleyFieldMultiple",i,s)},getNamespace:function(e){return"undefined"!=typeof this.$element.data("parsleyNamespace")?this.$element.data("parsleyNamespace"):"undefined"!=typeof t.get(e,"namespace")?e.namespace:"undefined"!=typeof t.get(window,"ParsleyConfig.namespace")?window.ParsleyConfig.namespace:i.namespace},bind:function(i,s,r,a){var o;switch(i){case"parsleyForm":o=e.extend(new l(this.$element,this.OptionsFactory),new n,window.ParsleyExtend)._bindFields();break;case"parsleyField":o=e.extend(new h(this.$element,this.OptionsFactory,s),new n,window.ParsleyExtend);break;case"parsleyFieldMultiple":o=e.extend(new h(this.$element,this.OptionsFactory,s),new n,new d,window.ParsleyExtend)._init(r);break;default:throw new Error(i+"is not a supported Parsley type")}return"undefined"!=typeof r&&t.setAttr(this.$element,this.options.namespace,"multiple",r),"undefined"!=typeof a?(this.$element.data("ParsleyFieldMultiple",o),o):(new RegExp("ParsleyF","i").test(o.__class__)&&(this.$element.data("Parsley",o),e.emit("parsley:"+("parsleyForm"===i?"form":"field")+":init",o)),o)}},e.fn.parsley=e.fn.psly=function(t){if(this.length>1){var i=[];return this.each(function(){i.push(e(this).parsley(t))}),i}return e(this).length?new c(this,t):void(window.console&&window.console.warn&&window.console.warn("You must bind Parsley on an existing element."))},window.ParsleyUI="function"==typeof t.get(window,"ParsleyConfig.ParsleyUI")?(new window.ParsleyConfig.ParsleyUI).listen():(new a).listen(),"undefined"==typeof window.ParsleyExtend&&(window.ParsleyExtend={}),"undefined"==typeof window.ParsleyConfig&&(window.ParsleyConfig={}),window.Parsley=window.psly=c,window.ParsleyUtils=t,window.ParsleyValidator=new r(window.ParsleyConfig.validators,window.ParsleyConfig.i18n),!1!==t.get(window,"ParsleyConfig.autoBind")&&e(function(){e("[data-parsley-validate]").length&&e("[data-parsley-validate]").parsley()})});
function formAjaxSubmit(e){return tinyMCE.triggerSave(),form=$(e.target),form.find(".ajax-errors").remove(),errorList=$(e.target).attr("data-error-list"),$(errorList).length>0&&$(errorList).html(""),$.post(form.attr("action"),form.serialize(),function(t){return t=JSON.parse(t),"error"==t.status?(restoreSubmitLabel(form),"undefined"!=typeof form.attr("data-fail-callback")?(fn=form.attr("data-fail-callback").split("."),1==fn.length?window[fn[0]](t,e):2==fn.length?window[fn[0]][fn[1]](t,e):3==fn.length?window[fn[0]][fn[1]][fn[2]](t,e):4==fn.length?window[fn[0]][fn[1]][fn[2]][fn[3]](t,e):5==fn.length?window[fn[0]][fn[1]][fn[2]][fn[3]][fn[4]](t,e):6==fn.length?window[fn[0]][fn[1]][fn[2]][fn[3]][fn[4]][fn[5]](t,e):alert("ERROR: jsCallbackOverflow #f44"),!1):(errorList=$(e.target).attr("data-error-list"),$(errorList).length>0?$(errorList).html("<p>"+t.errors+"</p>"):form.find('[type="submit"]').after('<p class="alert alert-danger ajax-errors">'+t.errors+"</p>"),!1)):(restoreSubmitLabel(form),void("undefined"!=typeof form.attr("data-callback")&&(fn=form.attr("data-callback").split("."),1==fn.length?window[fn[0]](t,e):2==fn.length?window[fn[0]][fn[1]](t,e):3==fn.length?window[fn[0]][fn[1]][fn[2]](t,e):4==fn.length?window[fn[0]][fn[1]][fn[2]][fn[3]](t,e):5==fn.length?window[fn[0]][fn[1]][fn[2]][fn[3]][fn[4]](t,e):6==fn.length?window[fn[0]][fn[1]][fn[2]][fn[3]][fn[4]][fn[5]](t,e):alert("ERROR: jsCallbackOverflow #f64"))))}).fail(function(){setTimeout(function(){restoreSubmitLabel(form)},1e3)}),!1}function submittedFormButton(e){return"undefined"!=typeof $(e.target).attr("data-save-indicator")?(console.log("has indicator!3"),indicator=$(e.target).attr("data-save-indicator"),$indicator=$(indicator),$indicator.attr("data-old-label",$indicator.html()),$indicator.attr("disabled","disabled"),$indicator.html(' <img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" />'),!1):void(("undefined"==typeof $(e.target).attr("data-no-processing")||1!=$(e.target).attr("data-no-processing"))&&($(e.target).find("[type=submit]").attr("data-old-label",$(e.target).find("[type=submit]").html()),$(e.target).find("[type=submit]").attr("disabled","disabled"),$(e.target).find("[type=submit]").html(' <img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" />')))}function restoreSubmitLabel(e){return"undefined"!=typeof e.attr("data-save-indicator")?(indicator=e.attr("data-save-indicator"),$indicator=$(indicator),$indicator.html($indicator.attr("data-old-label")),$indicator.removeAttr("disabled"),!1):void(("undefined"==typeof e.attr("data-no-processing")||1!=e.attr("data-no-processing"))&&(e.find("[type=submit]").html(e.find("[type=submit]").attr("data-old-label")),e.find("[type=submit]").removeAttr("disabled")))}function confirmDelete(e){for(console.log(e.target),msg=$(e.target).attr("data-message"),elem=$(e.target);"undefined"==typeof msg;)elem=elem.parent(),msg=elem.attr("data-message");return confirm(msg)}function updateSlug(e){return target=$(e.target).attr("data-slug-target"),$(target).val(convertToSlug($(e.target).val())),null}function populateDropdown(e){target=$(e).attr("data-target"),target=$(target),target.empty();var t=new Option(_("loading..."),_("loading..."));$(t).html(_("loading...")),target.append(t),target.attr("disabled",!0),$.get($(e).attr("data-url"),{id:$(e).val()},function(e){for(target.empty(),i=0;i<e.length;++i){var t=new Option(e[i].name,e[i].id);$(t).html(e[i].name),target.append(t)}target.attr("disabled",!1)})}function cloneInput(e){var t,a,r;if(window.event?t=e.keyCode:e.which&&(t=e.which),a=String.fromCharCode(t),r=/[a-zA-Z0-9]/,$elem=$(e.target),max=parseInt($elem.attr("data-clonable-max")),0==$elem.parent().next(".clonable").length){if(name=$elem.attr("name"),max>0&&$('[name="'+name+'"]').length>=max)return;var n=$elem.parent(),o=$elem.clone();o.removeAttr("id"),o.removeAttr("value"),o.removeAttr("required"),o.removeClass(),id=uniqueId(),o.addClass("clonable clonable-"+id),n.after('<div style="display:none" class="clonable clonable-'+id+'"><span>1</span><a href="#" tabindex="-1" class="style-one delete-clonable clonable-'+id+'"></a></div>'),$("a.clonable-"+id).before(o),$("div.clonable-"+id).fadeIn(),reorderClonable($elem.attr("name"))}}function reorderClonable(e){var t=1;$('[name="'+e+'"]').each(function(){$(this).prev("span").html(t),++t})}function deleteClonable(e){return e.preventDefault(),del=$(e.target).attr("data-delete"),name=$(del).find("input").attr("name"),1==$('[name="'+name+'"]').length?!1:($(e.target).parent().fadeOut(function(){$(e.target).parent().remove(),$(del).remove(),reorderClonable(name)}),!1)}function deleteItem(e,t){identifier=$(t.target).attr("data-delete"),"undefined"==typeof identifier&&(identifier=$(e.target).attr("data-delete")),console.log(identifier),$(identifier).remove()}function updateFieldRemote(e){var t=e;url=$(e.target).attr("data-url"),name=$(e.target).attr("data-name"),value=$(e.target).val(),$(e.target).is(":checkbox")&&(value=$(e.target).attr($(e.target).prop("checked")?"data-checked-val":"data-unchecked-val")),token=$('[name="_token"]').first().val(),savingAnimation(0),$.ajax({url:url,type:"PUT",data:{name:name,value:value,_token:token},success:function(e){try{response=JSON.parse(e),"error"==response.status&&alert(response.errors)}catch(e){}savingAnimation(1),callback=$(t.target).attr("data-callback"),"undefined"!=typeof callback&&window[callback](t,e)},error:function(e){alert(_("Request failed: an error occurred")),console.log(e)}})}function savingAnimation(e){return 1==e?(setTimeout(function(){saving_animation=0,$("#save-indicator").animate({left:"-140px"},300)},700),!1):1==saving_animation?!1:(saving_animation=1,$("body").remove("#save-indicator"),$("body").append('<div id="save-indicator">'+_("saving")+' <img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" /></div>'),void $("#save-indicator").animate({left:"0px"},300))}function enableFileUploader(e){dropzone=e.attr("data-dropzone");var t=e.attr("data-progress-bar"),a=$(t).attr("data-label");$progressLabel=$(a),upload_url=e.closest("form").attr("action");var r=e;r.fileupload({dropZone:$(dropzone)}).on("fileuploadadd",function(a,r){return $(t).parent().show(),callback=e.attr("data-add-callback"),"undefined"!=typeof callback?window[callback](a,r):void 0}).on("fileuploadprogress",function(e,r){$progressLabel=$(a);var n=parseInt(r.loaded/r.total*100,10);$(t).css("width",n+"%"),$progressLabel.length>0?$progressLabel.html(n):$(t).find("span").html(n),"100"==n&&(console.log($progressLabel),$progressLabel.length>0?$progressLabel.html(_("Upload complete. Processing")+' <img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" />'):$(t).parent().find("span").html(_("Upload complete. Processing")+' <img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" />'))}).on("fileuploadfail",function(e,r){$progressLabel=$(a),$(t).find("span").html(""),$(t).css("width","0%"),$.each(r.files,function(e){var a=$('<span class="alert alert-danger upload-error"/>').text(_("File upload failed."));$(t).css("width","100%"),$progressLabel.length>0?$progressLabel.html(a):$(t).find("span").html(a)})}).on("fileuploaddone",function(t,a){callback=e.attr("data-callback"),void 0!=typeof callback&&window[callback](t,a)})}function formSaved(){savingAnimation(0),savingAnimation(1)}function enableSlider(e){var t=$(e).attr("data-label");$(e).slider().on("slide",function(a){1==$(e).attr("data-target-input")?$(t).val(a.value):$(t).html(a.value+"%")})}function setSlider(e){elem=$(e.target).attr("data-slider"),val=1*$(e.target).val(),$(elem).slider("setValue",val),$(elem).val($(e.target).val())}function setReplyTo(e){e.preventDefault(),id=$(e.target).attr("data-id"),name=$(e.target).prev(".name").html(),$box=$(".replies-comment-"+id),$box.find(".comment-form-reply").remove(),id=".replies-"+$box.parent().attr("id"),$form=$(".comment-form").clone(),$form.removeClass("comment-form"),$form.addClass("comment-form-reply"),$form.find("form").attr("data-destination",id),$box.append($form),$form.prepend('<span class="reply-to-label">@'+name+' <i class="fa fa-times cancel-reply"></i></span>'),indent=$box.find(".reply-to-label").outerWidth(),$form.find("textarea").css("text-indent",indent),field=$(e.target).attr("data-field"),val=$(e.target).attr("data-reply-to"),$form.find(field).val(val)}function cancelReply(e){$(e.target).parent().parent().find("textarea").css("text-indent","0px"),$(e.target).parent().parent().find(".reply-to").val("0"),$(e.target).parent().parent().find("form").attr("data-destination",".users-comments > .clearfix"),$(e.target).parent().remove()}function checkboxToggler(e){target=$(e.target).attr("data-target"),$(target).prop("checked",this.checked)}function toggleElementViaOther(e){$source=$(e.target),dest=$source.attr("data-destination"),val=$source.val(),"undefined"!=typeof $source.attr("data-is-int")&&(val=parseInt(val)),val==$source.attr("data-hide-on")?$(dest).hide():$(dest).show()}function toggleDisable(e){$source=$(e.target),dest=$source.attr("data-target"),disable=$source.attr("data-disable"),"disable"==disable?$(dest).attr("disabled","disabled"):$(dest).removeAttr("disabled")}function toggleVisible(e){$source=$(e.target),dest=$source.attr("data-target"),hide=$source.attr("data-visible"),"hide"==hide?$(dest).hide():$(dest).show()}function resetForm(e){e.preventDefault(),form=$(e.target).attr("data-form"),$form=$(form),$form[0].reset()}function submitForm(e){e.preventDefault(),form=$(e.target).attr("data-form"),$form=$(form),$form.find('[type="submit"]').click()}function clickOnEnter(e){return 13==e.which?""==$.trim($(e.target).val())?!1:(link=$(e.target).attr("data-click"),callback=$(e.target).attr("data-callback"),"keyup"==e.type&&(isset(callback)?window[callback](e):$(link).click()),e.preventDefault(),e.stopPropagation(),!1):void 0}$(document).ready(function(){$("body").delegate(".checkbox-toggler","change",checkboxToggler),$("body").delegate("form","submit",submittedFormButton),$("body").delegate(".delete-button","click",confirmDelete),$("body").delegate(".has-slug","keyup",updateSlug),$("body").delegate(".ajax-form","submit",formAjaxSubmit),$("body").delegate("input.clonable","keydown",cloneInput),$("body").delegate(".delete-clonable","click",deleteClonable),$("body").delegate(".ajax-updatable","change",updateFieldRemote),$("body").delegate(".set-slider","change",setSlider),$("body").delegate(".reply-to","click",setReplyTo),$("body").delegate(".cancel-reply","click",cancelReply),$("body").delegate(".toggle-disable","change",toggleDisable),$("body").delegate(".reset-form","click",resetForm),$("body").delegate(".submit-form","click",submitForm),$("body").delegate(".click-on-enter","keyup keypress",clickOnEnter)});var saving_animation=0;
function validateEmail(e){var r=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return r.test(e)}$(function(){$(".show-password").click(function(){$input=$(this).parent().find("input"),console.log($input),$(this).html()==_("Show")?($(this).html(_("Hide")),$input.attr("type","text")):($(this).html(_("Show")),$input.attr("type","password"))})});var loginValidator={emailAssist:function(){var e=["gmail.com","aol.com"];$("#login-form [name=email]").mailcheck({domains:e,suggested:function(e,r){$("#login-form [name=email]").tooltip("hide").attr("title","Did you mean "+r.full+"?").tooltip("fixTitle").tooltip("show")},empty:function(e){}})},emailValidate:function(){return $("#login-form [name=email]").tooltip("destroy"),$("#login-form [name=email]").closest(".form-group").removeClass("input-error"),$("#login-form [name=email]").closest(".form-group").removeClass("valid-input"),$("#login-form [name=email]").next(".hide").remove(),validateEmail($("#login-form [name=email]").val())?(checkURL=$("#login-form [name=email]").attr("data-check-url"),self=this,void $.get(checkURL,{email:$("#login-form [name=email]").val()},function(e){return"0"===e?($("#login-form [name=email]").closest(".form-group").addClass("input-error"),$("#login-form [name=email]").after('<p class="hide">'+_("Email not registered")+"</p>"),self.emailAssist(),!1):($("#login-form [name=email]").tooltip("destroy"),$("#login-form [name=email]").closest(".form-group").addClass("valid-input"),!0)})):($("#login-form [name=email]").closest(".form-group").addClass("input-error"),$("#login-form [name=email]").after('<p class="hide">'+_("Invalid email address")+"</p>"),this.emailAssist(),!1)},passwordValidate:function(){return $("#login-form [name=password]").tooltip("destroy"),$("#login-form [name=password]").closest(".form-group").removeClass("input-error"),$("#login-form [name=password]").closest(".form-group").removeClass("valid-input"),$("#login-form [name=password]").next(".hide").remove(),""==$.trim($("#login-form [name=password]").val())?($("#login-form [name=password]").closest(".form-group").addClass("input-error"),$("#login-form [name=password]").after('<p class="hide">Password can\'t be blank</p>'),!1):"undefined"!=typeof $("#login-form [name=password]").attr("data-fail")?($("#login-form [name=password]").closest(".form-group").addClass("input-error"),$("#login-form [name=password]").after('<p class="hide">Incorrect password</p>'),$("#login-form [name=password]").removeAttr("data-fail"),!1):($("#login-form [name=password]").tooltip("destroy"),$("#login-form [name=password]").closest(".form-group").addClass("valid-input"),!0)},validate:function(){if(0==this.emailValidate())return!1;if(0==this.passwordValidate())return!1;var e={};return $("#login-form").removeAttr("data-no-processing"),e.target=document.getElementById("login-form"),formAjaxSubmit(e),!1},callback:function(e,r){$('#login-form [type="submit"]').attr("disabled","disabled"),$('#login-form [type="submit"]').html(_("Logging in - Please wait")),window.location=window.location},failCallback:function(e,r){if(e.errors)for(var o in e.errors)$("#login-form [name="+o+"]").parent().find(".hide").remove(),$("#login-form [name="+o+"]").after('<p class="hide">'+e.errors[o].join("<br />")+"</p>"),$("#login-form [name="+o+"]").parent().removeClass("valid-input"),$("#login-form [name="+o+"]").parent().addClass("input-error")}},registerValidator={emailAssist:function(){var e=["gmail.com","aol.com"];$("#register-form [name=email]").mailcheck({domains:e,suggested:function(e,r){$("#register-form [name=email]").tooltip("hide").attr("title","Did you mean "+r.full+"?").tooltip("fixTitle").tooltip("show")},empty:function(e){}})},emailValidate:function(){return $("#register-form [name=email]").tooltip("destroy"),$("#register-form [name=email]").closest(".form-group").removeClass("input-error"),$("#register-form [name=email]").closest(".form-group").removeClass("valid-input"),$("#register-form [name=email]").next(".hide").remove(),validateEmail($("#register-form [name=email]").val())?(checkURL=$("#register-form [name=email]").attr("data-check-url"),self=this,void $.get(checkURL,{email:$("#register-form [name=email]").val()},function(e){return"1"===e?($("#register-form [name=email]").closest(".form-group").addClass("input-error"),$("#register-form [name=email]").after('<p class="hide">'+_("Email already registered")+"</p>"),self.emailAssist(),!1):($("#register-form [name=email]").tooltip("destroy"),$("#register-form [name=email]").closest(".form-group").addClass("valid-input"),self.emailAssist(),!0)})):($("#register-form [name=email]").closest(".form-group").addClass("input-error"),$("#register-form [name=email]").after('<p class="hide">'+_("Invalid email address")+"</p>"),this.emailAssist(),!1)},passwordValidate:function(){return $("#register-form [name=password]").tooltip("destroy"),$("#register-form [name=password]").closest(".form-group").removeClass("input-error"),$("#register-form [name=password]").closest(".form-group").removeClass("valid-input"),$("#register-formm [name=password]").next(".hide").remove(),$("#register-form [name=password]").val().length<6?($("#register-form [name=password]").closest(".form-group").addClass("input-error"),$("#register-form [name=password]").after('<p class="hide">'+_("Password must be at least 6 characters long")+"</p>"),!1):($("#register-form [name=password]").tooltip("destroy"),$("#register-form [name=password]").closest(".form-group").addClass("valid-input"),!0)},validate:function(e){if(0==this.emailValidate())return!1;if(0==this.passwordValidate())return!1;var e={};return $("#register-form").removeAttr("data-no-processing"),e.target=document.getElementById("register-form"),formAjaxSubmit(e),!1},callback:function(e,r){$('#register-form [type="submit"]').attr("disabled","disabled"),$('#register-form [type="submit"]').html(_("Logging in - Please wait")),window.location=e.url},failCallback:function(e,r){if(e.errors)for(var o in e.errors)$("#register-form [name="+o+"]").parent().find(".hide").remove(),$("#register-form [name="+o+"]").after('<p class="hide">'+e.errors[o].join("<br />")+"</p>"),$("#register-form [name="+o+"]").parent().removeClass("valid-input"),$("#register-form [name="+o+"]").parent().addClass("input-error");$("#register-form [name=password]").attr("data-fail",1)}};
function sortablizeModulesAndLessons(){var e=document.getElementById("modules-list");if($("#modules-list").length>0){{Sortable.create(e,{group:"modules",animation:150,handle:".sortable-handle",onEnd:function(e){var t=1;$("span.module-order").each(function(){$(this).html(t),$(this).parent().parent().find("input.module-order").val(t),$(this).parent().parent().find("input.module-order").trigger("change"),++t})}})}$(".lessons").each(function(){sortablizeLessons($(this).attr("id"))})}}function sortablizeLessons(e){{var t=document.getElementById(e);Sortable.create(t,{group:"lessons",animation:150,handle:".sortable-handle",onEnd:function(t){reorderLessons(e)}})}}function reorderModulesAndLessons(){var e=1,t=[],a=[];return $("span.module-order").each(function(){$(this).html(e),id=$(this).attr("data-id"),t.push(id),l=reorderLessons(id),a.push({module:id,lessons:l}),++e}),id=$(".course-id").val(),$.post(COCORIUM_APP_PATH+"courses/"+id+"/reorder",{modules:t,lessons:a},function(e){console.log(e)}),!0}function reorderLessons(e){lessons=[];var t=1;$(".shr-editor-module-"+e+" .lesson-order").each(function(){$(this).html(t),++t});var t=1;return $(".shr-editor-module-"+e+" .lesson-li").each(function(){e=$(this).attr("data-id"),lessons.push(e),++t}),lessons}function prepareCourseDetails(e){$("#edit-course-details-form").attr("action",e.updateAction),restoreSubmitLabel($("#create-form")),$("#step1").addClass("disabled-item"),unhide("#step2")}function addModule(e){var t=".module-container",a=e.html;$(t).append(a),restoreSubmitLabel($("#modules-form")),$(".drag-module").append(e.li),$(".step3-module-count").html($(".new-module").length)}function addLesson(e){$("div.shr-editor-module-"+e.module+" .lesson-container").append(e.html),$("li.shr-editor-module-"+e.module+" ol").append(e.li),$(".step3-lesson-count").html($(".new-lesson").length),"0"==$(".step-2-filled").val()&&($(".step-2-filled").val("1"),updateStepsRemaining()),enableBlockFileUploader()}function enableLessonRTE(e){textarea=$(e.target).parent().parent().parent().parent().find("textarea"),selector="#"+textarea.attr("id"),tinymce.remove(selector),tinymce.init({menu:{},language:"ja",language_url:COCORIUM_APP_PATH+"js/lang/tinymce/ja.js",autosave_interval:"20s",autosave_restore_when_empty:!0,selector:selector,save_onsavecallback:function(){return savingAnimation(0),$(selector).closest("form").submit(),savingAnimation(1),!0},plugins:["advlist autolink autosave lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste save"],toolbar:"save | insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"});{var t=$(e.target).parent().parent().parent().siblings('div[class*="action-panel"]');$(t).height()}TweenMax.fromTo(t,.3,{marginBottom:"40px",padding:"10px"},{marginBottom:"0px",padding:"30px 10px 10px"})}function enableBlockFileUploader(e){$(".lesson-file-uploader").each(function(){"undefined"==typeof $(this).attr("data-upload-enabled")&&($(this).attr("data-upload-enabled",1),enableFileUploader($(this)))})}function enableVideoOption(e){{var t=$(e.target).parent().parent().parent().siblings('div[class*="action-panel"]');$(t).height()}TweenMax.fromTo(t,.3,{marginBottom:"40px"},{marginBottom:"0px"})}function enableSettingOption(e){{var t=$(e.target).parent().parent().parent().siblings('div[class*="action-panel"]');$(t).height()}TweenMax.fromTo(t,.3,{marginBottom:"40px"},{marginBottom:"0px"})}function blockFileUploaded(e,t){lessonId=$(e.target).attr("data-lesson-id");var a=$(e.target).attr("data-progress-bar");progressLabel=$(a).attr("data-label");var s=$(progressLabel);uploadTo=$(e.target).attr("data-upload-to"),$uploadTo=$(uploadTo),result=xmlToJson(t.result),awsResponse=result,$.post(COCORIUM_APP_PATH+"lessons/blocks/"+lessonId+"/files",{key:result.PostResponse.Key["#text"],content:result.PostResponse.Location["#text"]},function(e){e=JSON.parse(e),"success"==e.status?($(a).find("span").html(""),$(a).css("width","0%"),$uploadTo.append(e.html),$(a).parent().hide(),s.html(""),calculateFileSizes(),count=$(".uploaded-files-"+lessonId+" > li").length,$(".attachment-counter-"+lessonId).html(count),$(".shr-lesson-"+lessonId+" .uploaded-files").show(),$(".shr-lesson-"+lessonId+" .uploader-area ").addClass("col-lg-3"),$(".shr-lesson-"+lessonId+" .uploader-area ").addClass("col-md-3"),$(".shr-lesson-"+lessonId+" .uploader-area ").addClass("col-sm-3")):($(a).find("span").html(e.errors),$(a).css("width","0%"),s.html(e.errors))})}function limitLessonFiles(e,t){return $(e.target).closest("form").find(".ajax-error").remove(),filename=$(e.target).closest("form").find('[name="key"]').attr("data-value"),filename=filename.replace("{timestamp}--",Date.now()+"--"),$(e.target).closest("form").find('[name="key"]').val(filename),max_upload=$(e.target).attr("data-max-upload"),$(e.target).parent().parent().find(".uploaded-file").length>=max_upload?($(e.target).after("<p class='alert alert-danger ajax-error'>"+$(e.target).attr("data-max-upload-error")+"</p>"),!1):!0}function courseImageUploaded(e,t){var a=$(e.target).attr("data-progress-bar");$(a).find("span").html(""),$(a).css("width","0%"),$(a).parent().hide(),progressLabel=$(a).attr("data-label"),$(progressLabel).hide(),target=$(e.target).attr("data-target"),console.log(t.result),result=JSON.parse(t.result),$(target).append(result.html),$(target).find("[type=radio]").click(),$(".course-listing-image-preview").html(result.html)}function activeLessonOption(){var e=$(".lesson-options .buttons a");e.on("click",function(e){$(this).parent().parent(".lesson-options-buttons").find(".load-remote-cache").not(this).removeClass("active"),$(this).parent().parent(".lesson-options-buttons").find(".load-remote-cache").not(this).removeClass("active-done"),$(this).addClass("active"),$(this).hasClass("done")&&$(this).removeClass("active").addClass("active-done")})}function submitForApproval(e,t){$("#publish-status-header").html("Publish Status: Pending"),deleteItem(e,t)}function assignInstructor(e){holder=$(e).attr("data-checkmark-holder"),console.log(holder),$(".assigned-check").remove(),$('[name="details_displays"]').val("instructor"),$("#assign-instructor").prev("label").append('<img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" class="assigned-check" />'),email=$("#assign-instructor").val(),$.get(COCORIUM_APP_PATH+"courses/search-instructor/"+email,function(e){$("#assigned_instructor_id").val(parseInt(e)),$(".assigned-check").remove(),e>0&&$(holder).html('<i class="fa fa-check assigned-check"></i>')})}function showReplyForm(e){$("#reply-form").attr("data-delete",$(e.target).attr("data-delete")),$("#reply-form-id").val($(e.target).attr("data-id")),$("#reply-form-type").val($(e.target).attr("data-type")),$("#reply-form-reply").val(""),$("#reply-modal").modal("show")}function instructorReplied(e,t){deleteItem(e,t),$("#reply-modal").modal("hide")}function courseSettings(){$('[href="#course-edit"]').click()}function adjustPrice(e){$(e).parent().parent().find(".min-price-error").remove(),val=parseInt(e.val()),0==val||0!=val&&(val<500&&("undefined"==typeof $(e).attr("data-next-to")?$(e).parent().parent().append('<p class="min-price-error alert alert-danger">'+_("min-price-500")+"</p>"):$(e).parent().append('<p class="min-price-error alert alert-danger">'+_("min-price-500")+"</p>")),val=e.val()>=500?e.val():500),e.val(round2(val,10))}function adjustDiscount(e){val=parseInt(e.val()),kind=e.attr("data-saleType"),kind=$("[name='"+kind+"']").val(),val=round2(val,10),e.val(val)}function courseChangedTabs(e){$(".header-tabs").removeClass("active"),$(e.target).addClass("active"),str="",$('[name="who_is_this_for[]"]').each(function(){""!=$(this).val()&&(str+="<li>"+$(this).val()+"</li>")}),$(".who-is-for-ul").html(str),str="",$('[name="requirements[]"]').each(function(){""!=$(this).val()&&(str+="<li>"+$(this).val()+"</li>")}),$(".requirements-ul").html(str),str="",$('[name="what_will_you_achieve[]"]').each(function(){""!=$(this).val()&&(str+="<li>"+$(this).val()+"</li>")}),$(".by-the-end-ul").html(str)}function saveAndNextTab(e){$("html, body").animate({scrollTop:$("body").offset().top},500),formSaved(e),editorStepSubmit=!1,$(".header-tabs.active").next(".header-tabs").click(),$form=$(""),restoreSubmitLabel($form)}function saveStep1Form(){1==editorStepSubmit?($(".step-1-form").parsley().isValid()&&($(".step-1-form").attr("data-old-callback",$(".step-1-form").attr("data-callback")),$(".step-1-form").attr("data-callback","savedStep1"),$(".step-1-form").attr("data-save-indicator",".step-1-save-btn")),$(".step-1-form").submit()):editorStepSubmit=!0}function savedStep1(e,t){$(".step-1-form").attr("data-callback",$(".step-1-form").attr("data-old-callback")),$(".step-1-form").removeAttr("data-old-callback"),$(".step-1-form").removeAttr("data-save-indicator"),console.log(t),savingAnimation(0),setTimeout(function(){savingAnimation(1)},1e3)}function submittedCourse(){$(".header-tabs").last().removeAttr("data-loaded"),$(".header-tabs").last().click(),$(".submit-for-approval").attr("disabled","true"),$(".submit-for-approval").addClass("disabled-button")}function updateStepsRemaining(){course_steps_remaining--,$(".steps-remaining p span span").html(course_steps_remaining),0==course_steps_remaining&&$(".steps-remaining p").html("<span>"+_("Course Ready For Submission")+"</span>"),activatePreviewButton()}function activatePreviewButton(){1==$(".step-1-filled").val()&&1==$(".step-2-filled").val()&&($(".preview-course-btn").removeClass("disabled-button"),$(".preview-course-btn").attr("target","_blank"),$(".preview-course-btn").attr("href",$(".preview-course-btn").attr("data-href")))}function courseUpdateDiscount(e){$(".discount-ajax-result").remove(),sale=$('[name="sale"]').val(),sale_starts_on=$('[name="sale_starts_on"]').val(),sale_ends_on=$('[name="sale_ends_on"]').val(),url=$(e.target).attr("data-url"),token=$('[name="_token"]').val(),$.post(url,{_method:"PUT",_token:token,sale:sale,sale_starts_on:sale_starts_on,sale_ends_on:sale_ends_on},function(t){t=JSON.parse(t),$(e.target).after("success"==t.status?"<p class='alert alert-success discount-ajax-result'>"+_("Discount Updated")+"</p>":"<p class='alert alert-danger discount-ajax-result'>"+t.errors+"</p>")})}function saveStep3Form(){$(".step-3-form").attr("data-old-callback",$(".step-3-form").attr("data-callback")),$(".step-3-form").attr("data-callback","savedStep3"),$(".step-3-form").attr("data-save-indicator",".step-3-save-btn"),$('[name="publish_status"]').val(0),$(".step-3-form").submit()}function savedStep3(e,t){$(".step-3-form").attr("data-callback",$(".step-3-form").attr("data-old-callback")),$(".step-3-form").removeAttr("data-old-callback"),$(".step-3-form").removeAttr("data-save-indicator"),$('[name="publish_status"]').val(1),savingAnimation(0),setTimeout(function(){savingAnimation(1)},1e3)}function deleteCurriculumItem(e,t){console.log("DELETING ITEMZZZ"),identifier=$(e.target).attr("data-delete"),console.log(identifier),deleteItem(t,e),reorderModulesAndLessons(),$(".step3-lesson-count").html($(".new-lesson").length),$(".step3-module-count").html($(".new-module").length)}function sortablizeLsn(){$(".drag-lesson").each(function(){if("undefined"==typeof $(this).attr("data-sortablized")){$(this).attr("data-sortablized",1),el=$(this)[0];{Sortable.create(el,{group:"lessons-drag",animation:150,onEnd:function(e){console.log(e),cls=$(e.item).attr("class"),$lesson=$("div."+cls),i=0,module=$(e.item).parent().attr("data-module-id"),console.log("MODULE IS: "+module),console.log(e.newIndex),e.newIndex>=$(".shr-editor-module-"+module).find(".shr-lesson").length&&$(".shr-editor-module-"+module).find(".shr-lesson").last().after($lesson),$(".shr-editor-module-"+module).find(".shr-lesson").each(function(){i==e.newIndex&&(e.newIndex<=e.oldIndex?$(this).before($lesson):$(this).after($lesson)),++i}),reorderModulesAndLessons()}})}}})}function sortablizeMdl(){$(".drag-module").each(function(){if("undefined"==typeof $(this).attr("data-sortablized")){$(this).attr("data-sortablized",1),el=$(this)[0];{Sortable.create(el,{group:"modules-drag",animation:150,onEnd:function(e){console.log(e),cls=$(e.item).attr("class"),$module=$("div."+cls),i=0,$module.parent().find(".shr-editor-module").each(function(){i==e.newIndex&&(e.newIndex<e.oldIndex?$(this).before($module):$(this).after($module)),++i}),reorderModulesAndLessons()}})}}})}function toggleMinimize(e){$(e.target).hasClass("fa")&&$(e.target).toggleClass("fa-compress"),toggleIcon=$(e.target).attr("data-toggle-icon"),cls=$(e.target).attr("data-class"),target=$(e.target).attr("data-target"),elem=$(e.target),tries=0;for(var t=!1;"undefined"==typeof cls&&(elem=elem.parent(),cls=elem.attr("data-class"),target=$(elem).attr("data-target"),toggleIcon=$(elem).attr("data-toggle-icon"),console.log(target),tries++,t=!0,!(tries>50)););return e.preventDefault(),e.stopPropagation(),console.log($(target).hasClass(cls)),console.log($(target)),t&&!$(target).hasClass(cls)?(console.log("FROM CHILD"),!1):($(target).toggleClass(cls),console.log("toggling minimize!!!"),void("undefined"!=typeof toggleIcon&&$(toggleIcon).toggleClass("fa-compress")))}function deleteAttachment(e,t){deleteItem(t,e),lessonId=$(e.target).attr("data-lesson"),count=$(".uploaded-files-"+lessonId+" > li").length,$(".attachment-counter-"+lessonId).html(count)}function minimizeAfterSave(e,t){elem=$(t.target).attr("data-elem"),console.log(elem+" .toggle-minimize"),$(elem+" a.toggle-minimize").first().click()}$(document).ready(function(){activatePreviewButton(),$("body").delegate(".add-module","click",addModule),$("body").delegate(".link-to-step-2, .link-to-step-3","click",saveStep1Form),$("body").delegate(".add-lesson","click",addLesson),$("body").delegate(".show-reply-form","click",showReplyForm),$("body").delegate("a.toggle-minimize, button.toggle-minimize, .module-minimized div.toggle-minimize.module-data, .lesson-minimized div.toggle-minimize.lesson-data ","click",toggleMinimize),activeLessonOption(),sortablizeModulesAndLessons()});var editorStepSubmit=!0;
var cocoriumTracker={loadTime:(new Date).getTime(),actions:[],add:function(e){var t={type:e.type,time_after_pageload:this.getTime(),target_class:e.target.className,target_id:e.target.id,tracker_id:$(e.target).attr("data-c6m-tracker-id"),url:document.URL,user_agent:navigator.userAgent,mouse_position:e.pageX+"x"+e.pageY,window_scroll_top:$(window).scrollTop(),ajax_url:e.ajax_url||""};return this.actions.push(t),!0},getTime:function(){return((new Date).getTime()-this.loadTime)/1e3},upload:function(){url="http://wazaar.dev/action-tracker",$.post(url,{data:this.actions},function(){})},createAjaxEvent:function(e,t){return ev={},ev.target={},ev.target.className=ev.target.id="",ev.type=e,ev.pageX=ev.pageY="NA",ev.ajax_url=t,ev}};$(function(){$(document).click(function(e){cocoriumTracker.add(e)}),$(window).bind("beforeunload",function(){})});
!function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=t():"undefined"!=typeof Package?Sortable=t():window.Sortable=t()}(function(){"use strict";function t(t,e){this.el=t,this.options=e=e||{};var i={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",ignore:"a, img",filter:null,animation:0,setData:function(t,e){t.setData("Text",e.textContent)}};for(var o in i)!(o in e)&&(e[o]=i[o]);var a=e.group;a&&"object"==typeof a||(a=e.group={name:a}),["pull","put"].forEach(function(t){t in a||(a[t]=!0)}),L.forEach(function(i){e[i]=n(this,e[i]||M),r(t,i.substr(2).toLowerCase(),e[i])},this),t[B]=a.name+" "+(a.put.join?a.put.join(" "):"");for(var s in this)"_"===s.charAt(0)&&(this[s]=n(this,this[s]));r(t,"mousedown",this._onTapStart),r(t,"touchstart",this._onTapStart),R&&r(t,"selectstart",this._onTapStart),r(t,"dragover",this._onDragOver),r(t,"dragenter",this._onDragOver),H.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function e(t){D&&D.state!==t&&(l(D,"display",t?"none":""),!t&&D.state&&b.insertBefore(D,v),D.state=t)}function n(t,e){var n=k.call(arguments,2);return e.bind?e.bind.apply(e,[t].concat(n)):function(){return e.apply(t,n.concat(k.call(arguments)))}}function i(t,e,n){if(t){n=n||A,e=e.split(".");var i=e.shift().toUpperCase(),o=new RegExp("\\s("+e.join("|")+")\\s","g");do if(">*"===i&&t.parentNode===n||(""===i||t.nodeName==i)&&(!e.length||((" "+t.className+" ").match(o)||[]).length==e.length))return t;while(t!==n&&(t=t.parentNode))}return null}function o(t){t.dataTransfer.dropEffect="move",t.preventDefault()}function r(t,e,n){t.addEventListener(e,n,!1)}function a(t,e,n){t.removeEventListener(e,n,!1)}function s(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(/\s+/g," ").replace(" "+e+" ","");t.className=i+(n?" "+e:"")}}function l(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return A.defaultView&&A.defaultView.getComputedStyle?n=A.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function d(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,r=i.length;if(n)for(;r>o;o++)n(i[o],o);return i}return[]}function c(t){t.draggable=!1}function h(){Y=!1}function f(t,e){var n=t.lastElementChild,i=n.getBoundingClientRect();return e.clientY-(i.top+i.height)>5&&n}function u(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function p(t){for(var e=0;t&&(t=t.previousElementSibling)&&"TEMPLATE"!==t.nodeName;)e++;return e}function g(t,e){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),n=void 0},e))}}var v,m,_,D,b,y,S,w,E,C,T,x,N={},B="Sortable"+(new Date).getTime(),O=window,A=O.document,I=O.parseInt,R=!!A.createElement("div").dragDrop,Y=!1,X=function(t,e,n,i,o,r){var a=A.createEvent("Event");a.initEvent(e,!0,!0),a.item=n||t,a.from=i||t,a.oldIndex=o,a.newIndex=r,t.dispatchEvent(a)},L="onAdd onUpdate onRemove onStart onEnd onFilter onSort".split(" "),M=function(){},W=Math.abs,k=[].slice,H=[];return t.prototype={constructor:t,_dragStarted:function(){s(v,this.options.ghostClass,!0),t.active=this,X(b,"start",v,b,m)},_onTapStart:function(t){var e=t.type,n=t.touches&&t.touches[0],o=(n||t).target,a=o,s=this.options,h=this.el,f=s.filter;if(!("mousedown"===e&&0!==t.button||s.disabled)){if(s.handle&&(o=i(o,s.handle,h)),o=i(o,s.draggable,h),m=p(o),"function"==typeof f){if(f.call(this,t,o,this))return X(a,"filter",o,h,m),void t.preventDefault()}else if(f&&(f=f.split(",").some(function(t){return t=i(a,t.trim(),h),t?(X(t,"filter",o,h,m),!0):void 0})))return void t.preventDefault();if(o&&!v&&o.parentNode===h){"selectstart"===e&&o.dragDrop(),T=t,b=this.el,v=o,S=v.nextSibling,C=this.options.group,v.draggable=!0,s.ignore.split(",").forEach(function(t){d(o,t.trim(),c)}),n&&(T={target:o,clientX:n.clientX,clientY:n.clientY},this._onDragStart(T,!0),t.preventDefault()),r(A,"mouseup",this._onDrop),r(A,"touchend",this._onDrop),r(A,"touchcancel",this._onDrop),r(v,"dragend",this),r(b,"dragstart",this._onDragStart),r(A,"dragover",this);try{A.selection?A.selection.empty():window.getSelection().removeAllRanges()}catch(u){}"clone"==C.pull&&(D=v.cloneNode(!0),l(D,"display","none"),b.insertBefore(D,v))}}},_emulateDragOver:function(){if(x){l(_,"display","none");var t=A.elementFromPoint(x.clientX,x.clientY),e=t,n=this.options.group.name,i=H.length;if(e)do{if((" "+e[B]+" ").indexOf(n)>-1){for(;i--;)H[i]({clientX:x.clientX,clientY:x.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);l(_,"display","")}},_onTouchMove:function(t){if(T){var e=t.touches[0],n=e.clientX-T.clientX,i=e.clientY-T.clientY,o="translate3d("+n+"px,"+i+"px,0)";x=e,l(_,"webkitTransform",o),l(_,"mozTransform",o),l(_,"msTransform",o),l(_,"transform",o),this._onDrag(e),t.preventDefault()}},_onDragStart:function(t,e){var n=t.dataTransfer,i=this.options;if(this._offUpEvents(),e){var o,a=v.getBoundingClientRect(),s=l(v);_=v.cloneNode(!0),l(_,"top",a.top-I(s.marginTop,10)),l(_,"left",a.left-I(s.marginLeft,10)),l(_,"width",a.width),l(_,"height",a.height),l(_,"opacity","0.8"),l(_,"position","fixed"),l(_,"zIndex","100000"),b.appendChild(_),o=_.getBoundingClientRect(),l(_,"width",2*a.width-o.width),l(_,"height",2*a.height-o.height),r(A,"touchmove",this._onTouchMove),r(A,"touchend",this._onDrop),r(A,"touchcancel",this._onDrop),this._loopId=setInterval(this._emulateDragOver,150)}else n.effectAllowed="move",i.setData&&i.setData.call(this,n,v),r(A,"drop",this);if(y=i.scroll,y===!0){y=b;do if(y.offsetWidth<y.scrollWidth||y.offsetHeight<y.scrollHeight)break;while(y=y.parentNode)}setTimeout(this._dragStarted,0)},_onDrag:g(function(t){if(b&&this.options.scroll){var e,n,i=this.options,o=i.scrollSensitivity,r=i.scrollSpeed,a=t.clientX,s=t.clientY,l=window.innerWidth,d=window.innerHeight,c=(o>=l-a)-(o>=a),h=(o>=d-s)-(o>=s);c||h?e=O:y&&(e=y,n=y.getBoundingClientRect(),c=(W(n.right-a)<=o)-(W(n.left-a)<=o),h=(W(n.bottom-s)<=o)-(W(n.top-s)<=o)),(N.vx!==c||N.vy!==h||N.el!==e)&&(N.el=e,N.vx=c,N.vy=h,clearInterval(N.pid),e&&(N.pid=setInterval(function(){e===O?O.scrollTo(O.scrollX+c*r,O.scrollY+h*r):(h&&(e.scrollTop+=h*r),c&&(e.scrollLeft+=c*r))},24)))}},30),_onDragOver:function(t){var n,o,r,a=this.el,s=this.options,d=s.group,c=d.put,u=C===d,p=s.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),t.stopPropagation()),!Y&&C&&(u?p||(r=!b.contains(v)):C.pull&&c&&(C.name===d.name||c.indexOf&&~c.indexOf(C.name)))&&(void 0===t.rootEl||t.rootEl===this.el)){if(n=i(t.target,s.draggable,a),o=v.getBoundingClientRect(),r)return e(!0),void(D||S?b.insertBefore(v,D||S):p||b.appendChild(v));if(0===a.children.length||a.children[0]===_||a===t.target&&(n=f(a,t))){if(n){if(n.animated)return;m=n.getBoundingClientRect()}e(u),a.appendChild(v),this._animate(o,v),n&&this._animate(m,n)}else if(n&&!n.animated&&n!==v&&void 0!==n.parentNode[B]){w!==n&&(w=n,E=l(n));var g,m=n.getBoundingClientRect(),y=m.right-m.left,T=m.bottom-m.top,x=/left|right|inline/.test(E.cssFloat+E.display),N=n.offsetWidth>v.offsetWidth,O=n.offsetHeight>v.offsetHeight,A=(x?(t.clientX-m.left)/y:(t.clientY-m.top)/T)>.5,I=n.nextElementSibling;Y=!0,setTimeout(h,30),e(u),g=x?n.previousElementSibling===v&&!N||A&&N:I!==v&&!O||A&&O,g&&!I?a.appendChild(v):n.parentNode.insertBefore(v,g?I:n),this._animate(o,v),this._animate(m,n)}}},_animate:function(t,e){var n=this.options.animation;if(n){var i=e.getBoundingClientRect();l(e,"transition","none"),l(e,"transform","translate3d("+(t.left-i.left)+"px,"+(t.top-i.top)+"px,0)"),e.offsetWidth,l(e,"transition","all "+n+"ms"),l(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){l(e,"transition",""),e.animated=!1},n)}},_offUpEvents:function(){a(A,"mouseup",this._onDrop),a(A,"touchmove",this._onTouchMove),a(A,"touchend",this._onDrop),a(A,"touchcancel",this._onDrop)},_onDrop:function(e){var n=this.el;if(clearInterval(this._loopId),clearInterval(N.pid),a(A,"drop",this),a(A,"dragover",this),a(n,"dragstart",this._onDragStart),this._offUpEvents(),e){if(e.preventDefault(),e.stopPropagation(),_&&_.parentNode.removeChild(_),v){a(v,"dragend",this);var i=p(v);c(v),s(v,this.options.ghostClass,!1),b!==v.parentNode?(X(v.parentNode,"sort",v,b,m,i),X(b,"sort",v,b,m,i),X(v,"add",v,b,m,i),X(b,"remove",v,b,m,i)):v.nextSibling!==S&&(X(b,"update",v,b,m,i),X(b,"sort",v,b,m,i),D&&D.parentNode.removeChild(D)),t.active&&X(b,"end",v,b,m,i)}b=v=_=S=D=T=x=w=E=C=t.active=null,this.save()}},handleEvent:function(t){var e=t.type;"dragover"===e?(this._onDrag(t),o(t)):("drop"===e||"dragend"===e)&&this._onDrop(t)},toArray:function(){for(var t,e=[],n=this.el.children,o=0,r=n.length;r>o;o++)t=n[o],i(t,this.options.draggable,this.el)&&e.push(t.getAttribute("data-id")||u(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,o){var r=n.children[o];i(r,this.options.draggable,n)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return i(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;return void 0===e?n[t]:void(n[t]=e)},destroy:function(){var t=this.el,e=this.options;L.forEach(function(n){a(t,n.substr(2).toLowerCase(),e[n])}),a(t,"mousedown",this._onTapStart),a(t,"touchstart",this._onTapStart),a(t,"selectstart",this._onTapStart),a(t,"dragover",this._onDragOver),a(t,"dragenter",this._onDragOver),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),H.splice(H.indexOf(this._onDragOver),1),this._onDrop(),this.el=null}},t.utils={on:r,off:a,css:l,find:d,bind:n,is:function(t,e){return!!i(t,e,t)},throttle:g,closest:i,toggleClass:s,dispatchEvent:X,index:p},t.version="1.0.0",t.create=function(e,n){return new t(e,n)},t});
!function(e,i){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define(function(){return i()}):e.pluralize=i()}(this,function(){function e(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function i(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(i,a){return i===i.toUpperCase()?a.toUpperCase():i[0]===i[0].toUpperCase()?e(a):a.toLowerCase()}function s(e,i){return e.replace(/\$(\d{1,2})/g,function(e,a){return i[a]||""})}function r(e,i){if(!e.length||l.hasOwnProperty(e))return e;for(var r=i.length;r--;){var o=i[r];if(o[0].test(e))return e.replace(o[0],function(e,i,r){var t=s(o[1],arguments);return""===e?a(r[i-1],t):a(e,t)})}return e}function o(e,i,s){return function(o){var t=o.toLowerCase();return i.hasOwnProperty(t)?a(o,t):e.hasOwnProperty(t)?a(o,e[t]):r(o,s)}}function t(e,i,a){var s=1===i?t.singular(e):t.plural(e);return(a?i+" ":"")+s}var n=[],u=[],l={},$={},c={};return t.plural=o(c,$,n),t.singular=o($,c,u),t.addPluralRule=function(e,a){n.push([i(e),a])},t.addSingularRule=function(e,a){u.push([i(e),a])},t.addUncountableRule=function(e){return"string"==typeof e?l[e.toLowerCase()]=!0:(t.addPluralRule(e,"$0"),void t.addSingularRule(e,"$0"))},t.addIrregularRule=function(e,i){i=i.toLowerCase(),e=e.toLowerCase(),c[e]=i,$[i]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["thief","thieves"],["genie","genies"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(e){return t.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|\w+hedr)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(i)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"]].forEach(function(e){return t.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/([^aeflor])ves$/i,"$1fe"],[/(hive|tive|dr?ive)s$/i,"$1"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(^[pl]|zomb|^(?:neck)?t|[aeo][lt]|cut)ies$/i,"$1ie"],[/([^c][eor]n|smil)ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|\w+hedr)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return t.addSingularRule(e[0],e[1])}),["advice","agenda","bison","bream","buffalo","carp","chassis","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","gallows","graffiti","headquarters","health","herpes","highjinks","homework","information","jeans","justice","kudos","labour","machinery","mackerel","media","mews","moose","news","pike","plankton","pliers","pollution","premises","rain","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","tuna","whiting","wildebeest","wildlife",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(t.addUncountableRule),t});
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=h.call(arguments,1),u=0,r=0,d=0,f=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(r=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(r=-1*d,d=0),u=0===d?r:d,"deltaY"in s&&(d=-1*s.deltaY,u=d),"deltaX"in s&&(r=s.deltaX,0===d&&(u=-1*r)),0!==d||0!==r){if(1===s.deltaMode){var c=e.data(this,"mousewheel-line-height");u*=c,d*=c,r*=c}else if(2===s.deltaMode){var m=e.data(this,"mousewheel-page-height");u*=m,d*=m,r*=m}return f=Math.max(Math.abs(d),Math.abs(r)),(!l||l>f)&&(l=f,i(s,f)&&(l/=40)),i(s,f)&&(u/=40,r/=40,d/=40),u=Math[u>=1?"floor":"ceil"](u/l),r=Math[r>=1?"floor":"ceil"](r/l),d=Math[d>=1?"floor":"ceil"](d/l),t.deltaX=r,t.deltaY=d,t.deltaFactor=l,t.deltaMode=0,a.unshift(t,u,r,d),o&&clearTimeout(o),o=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function n(){l=null}function i(e,t){return r.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,l,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var u=s.length;u;)e.event.fixHooks[s[--u]]=e.event.mouseHooks;var r=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",r.getLineHeight(this)),e.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
!function(t,e){var n=function(n){return t(n,e)};"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n:n(jQuery)}(function(t,e,n){t.fn.jScrollPane=function(o){function i(o,i){function s(e){var i,a,l,u,d,f,g=!1,v=!1;if(O=e,V===n)d=o.scrollTop(),f=o.scrollLeft(),o.css({overflow:"hidden",padding:0}),q=o.innerWidth()+bt,G=o.innerHeight(),o.width(q),V=t('<div class="jspPane" />').css("padding",mt).append(o.children()),N=t('<div class="jspContainer" />').css({width:q+"px",height:G+"px"}).append(V).appendTo(o);else{if(o.css("width",""),g=O.stickToBottom&&H(),v=O.stickToRight&&S(),u=o.innerWidth()+bt!=q||o.outerHeight()!=G,u&&(q=o.innerWidth()+bt,G=o.innerHeight(),N.css({width:q+"px",height:G+"px"})),!u&&wt==E&&V.outerHeight()==K)return void o.width(q);wt=E,V.css("width",""),o.width(q),N.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}V.css("overflow","auto"),E=e.contentWidth?e.contentWidth:V[0].scrollWidth,K=V[0].scrollHeight,V.css("overflow",""),Q=E/q,U=K/G,$=U>1,J=Q>1,J||$?(o.addClass("jspScrollable"),i=O.maintainPosition&&(tt||ot),i&&(a=D(),l=x()),r(),c(),p(),i&&(T(v?E-q:a,!1),C(g?K-G:l,!1)),Y(),P(),F(),O.enableKeyboardNavigation&&M(),O.clickOnTrack&&h(),R(),O.hijackInternalLinks&&I()):(o.removeClass("jspScrollable"),V.css({top:0,left:0,width:N.width()-bt}),A(),z(),X(),j()),O.autoReinitialise&&!vt?vt=setInterval(function(){s(O)},O.autoReinitialiseDelay):!O.autoReinitialise&&vt&&clearInterval(vt),d&&o.scrollTop(0)&&C(d,!1),f&&o.scrollLeft(0)&&T(f,!1),o.trigger("jsp-initialised",[J||$])}function r(){$&&(N.append(t('<div class="jspVerticalBar" />').append(t('<div class="jspCap jspCapTop" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragTop" />'),t('<div class="jspDragBottom" />'))),t('<div class="jspCap jspCapBottom" />'))),it=N.find(">.jspVerticalBar"),st=it.find(">.jspTrack"),Z=st.find(">.jspDrag"),O.showArrows&&(lt=t('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",d(0,-1)).bind("click.jsp",W),pt=t('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",d(0,1)).bind("click.jsp",W),O.arrowScrollOnHover&&(lt.bind("mouseover.jsp",d(0,-1,lt)),pt.bind("mouseover.jsp",d(0,1,pt))),u(st,O.verticalArrowPositions,lt,pt)),at=G,N.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){at-=t(this).outerHeight()}),Z.hover(function(){Z.addClass("jspHover")},function(){Z.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",W),Z.addClass("jspActive");var n=e.pageY-Z.position().top;return t("html").bind("mousemove.jsp",function(t){v(t.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),a())}function a(){st.height(at+"px"),tt=0,rt=O.verticalGutter+st.outerWidth(),V.width(q-rt-bt);try{0===it.position().left&&V.css("margin-left",rt+"px")}catch(t){}}function c(){J&&(N.append(t('<div class="jspHorizontalBar" />').append(t('<div class="jspCap jspCapLeft" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragLeft" />'),t('<div class="jspDragRight" />'))),t('<div class="jspCap jspCapRight" />'))),ut=N.find(">.jspHorizontalBar"),dt=ut.find(">.jspTrack"),et=dt.find(">.jspDrag"),O.showArrows&&(jt=t('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",d(-1,0)).bind("click.jsp",W),gt=t('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",d(1,0)).bind("click.jsp",W),O.arrowScrollOnHover&&(jt.bind("mouseover.jsp",d(-1,0,jt)),gt.bind("mouseover.jsp",d(1,0,gt))),u(dt,O.horizontalArrowPositions,jt,gt)),et.hover(function(){et.addClass("jspHover")},function(){et.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",W),et.addClass("jspActive");var n=e.pageX-et.position().left;return t("html").bind("mousemove.jsp",function(t){b(t.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",g),!1}),ft=N.innerWidth(),l())}function l(){N.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ft-=t(this).outerWidth()}),dt.width(ft+"px"),ot=0}function p(){if(J&&$){var e=dt.outerHeight(),n=st.outerWidth();at-=e,t(ut).find(">.jspCap:visible,>.jspArrow").each(function(){ft+=t(this).outerWidth()}),ft-=n,G-=n,q-=e,dt.parent().append(t('<div class="jspCorner" />').css("width",e+"px")),a(),l()}J&&V.width(N.outerWidth()-bt+"px"),K=V.outerHeight(),U=K/G,J&&(ht=Math.ceil(1/Q*ft),ht>O.horizontalDragMaxWidth?ht=O.horizontalDragMaxWidth:ht<O.horizontalDragMinWidth&&(ht=O.horizontalDragMinWidth),et.width(ht+"px"),nt=ft-ht,w(ot)),$&&(ct=Math.ceil(1/U*at),ct>O.verticalDragMaxHeight?ct=O.verticalDragMaxHeight:ct<O.verticalDragMinHeight&&(ct=O.verticalDragMinHeight),Z.height(ct+"px"),_=at-ct,m(tt))}function u(t,e,n,o){var i,s="before",r="after";"os"==e&&(e=/Mac/.test(navigator.platform)?"after":"split"),e==s?r=e:e==r&&(s=e,i=n,n=o,o=i),t[s](n)[r](o)}function d(t,e,n){return function(){return f(t,e,this,n),this.blur(),!1}}function f(e,n,o,i){o=t(o).addClass("jspActive");var s,r,a=!0,c=function(){0!==e&&kt.scrollByX(e*O.arrowButtonSpeed),0!==n&&kt.scrollByY(n*O.arrowButtonSpeed),r=setTimeout(c,a?O.initialDelay:O.arrowRepeatFreq),a=!1};c(),s=i?"mouseout.jsp":"mouseup.jsp",i=i||t("html"),i.bind(s,function(){o.removeClass("jspActive"),r&&clearTimeout(r),r=null,i.unbind(s)})}function h(){j(),$&&st.bind("mousedown.jsp",function(e){if(e.originalTarget===n||e.originalTarget==e.currentTarget){var o,i=t(this),s=i.offset(),r=e.pageY-s.top-tt,a=!0,c=function(){var t=i.offset(),n=e.pageY-t.top-ct/2,s=G*O.scrollPagePercent,p=_*s/(K-G);if(0>r)tt-p>n?kt.scrollByY(-s):v(n);else{if(!(r>0))return void l();n>tt+p?kt.scrollByY(s):v(n)}o=setTimeout(c,a?O.initialDelay:O.trackClickRepeatFreq),a=!1},l=function(){o&&clearTimeout(o),o=null,t(document).unbind("mouseup.jsp",l)};return c(),t(document).bind("mouseup.jsp",l),!1}}),J&&dt.bind("mousedown.jsp",function(e){if(e.originalTarget===n||e.originalTarget==e.currentTarget){var o,i=t(this),s=i.offset(),r=e.pageX-s.left-ot,a=!0,c=function(){var t=i.offset(),n=e.pageX-t.left-ht/2,s=q*O.scrollPagePercent,p=nt*s/(E-q);if(0>r)ot-p>n?kt.scrollByX(-s):b(n);else{if(!(r>0))return void l();n>ot+p?kt.scrollByX(s):b(n)}o=setTimeout(c,a?O.initialDelay:O.trackClickRepeatFreq),a=!1},l=function(){o&&clearTimeout(o),o=null,t(document).unbind("mouseup.jsp",l)};return c(),t(document).bind("mouseup.jsp",l),!1}})}function j(){dt&&dt.unbind("mousedown.jsp"),st&&st.unbind("mousedown.jsp")}function g(){t("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),Z&&Z.removeClass("jspActive"),et&&et.removeClass("jspActive")}function v(t,e){$&&(0>t?t=0:t>_&&(t=_),e===n&&(e=O.animateScroll),e?kt.animate(Z,"top",t,m):(Z.css("top",t),m(t)))}function m(t){t===n&&(t=Z.position().top),N.scrollTop(0),tt=t||0;var e=0===tt,i=tt==_,s=t/_,r=-s*(K-G);(yt!=e||Tt!=i)&&(yt=e,Tt=i,o.trigger("jsp-arrow-change",[yt,Tt,Ct,Bt])),k(e,i),V.css("top",r),o.trigger("jsp-scroll-y",[-r,e,i]).trigger("scroll")}function b(t,e){J&&(0>t?t=0:t>nt&&(t=nt),e===n&&(e=O.animateScroll),e?kt.animate(et,"left",t,w):(et.css("left",t),w(t)))}function w(t){t===n&&(t=et.position().left),N.scrollTop(0),ot=t||0;var e=0===ot,i=ot==nt,s=t/nt,r=-s*(E-q);(Ct!=e||Bt!=i)&&(Ct=e,Bt=i,o.trigger("jsp-arrow-change",[yt,Tt,Ct,Bt])),y(e,i),V.css("left",r),o.trigger("jsp-scroll-x",[-r,e,i]).trigger("scroll")}function k(t,e){O.showArrows&&(lt[t?"addClass":"removeClass"]("jspDisabled"),pt[e?"addClass":"removeClass"]("jspDisabled"))}function y(t,e){O.showArrows&&(jt[t?"addClass":"removeClass"]("jspDisabled"),gt[e?"addClass":"removeClass"]("jspDisabled"))}function C(t,e){var n=t/(K-G);v(n*_,e)}function T(t,e){var n=t/(E-q);b(n*nt,e)}function B(e,n,o){var i,s,r,a,c,l,p,u,d,f=0,h=0;try{i=t(e)}catch(j){return}for(s=i.outerHeight(),r=i.outerWidth(),N.scrollTop(0),N.scrollLeft(0);!i.is(".jspPane");)if(f+=i.position().top,h+=i.position().left,i=i.offsetParent(),/^body|html$/i.test(i[0].nodeName))return;a=x(),l=a+G,a>f||n?u=f-O.horizontalGutter:f+s>l&&(u=f-G+s+O.horizontalGutter),isNaN(u)||C(u,o),c=D(),p=c+q,c>h||n?d=h-O.horizontalGutter:h+r>p&&(d=h-q+r+O.horizontalGutter),isNaN(d)||T(d,o)}function D(){return-V.position().left}function x(){return-V.position().top}function H(){var t=K-G;return t>20&&t-x()<10}function S(){var t=E-q;return t>20&&t-D()<10}function P(){N.unbind(xt).bind(xt,function(t,e,n,o){ot||(ot=0),tt||(tt=0);var i=ot,s=tt,r=t.deltaFactor||O.mouseWheelSpeed;return kt.scrollBy(n*r,-o*r,!1),i==ot&&s==tt})}function A(){N.unbind(xt)}function W(){return!1}function Y(){V.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(t){B(t.target,!1)})}function z(){V.find(":input,a").unbind("focus.jsp")}function M(){function e(){var t=ot,e=tt;switch(n){case 40:kt.scrollByY(O.keyboardSpeed,!1);break;case 38:kt.scrollByY(-O.keyboardSpeed,!1);break;case 34:case 32:kt.scrollByY(G*O.scrollPagePercent,!1);break;case 33:kt.scrollByY(-G*O.scrollPagePercent,!1);break;case 39:kt.scrollByX(O.keyboardSpeed,!1);break;case 37:kt.scrollByX(-O.keyboardSpeed,!1)}return i=t!=ot||e!=tt}var n,i,s=[];J&&s.push(ut[0]),$&&s.push(it[0]),V.focus(function(){o.focus()}),o.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(o){if(o.target===this||s.length&&t(o.target).closest(s).length){var r=ot,a=tt;switch(o.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=o.keyCode,e();break;case 35:C(K-G),n=null;break;case 36:C(0),n=null}return i=o.keyCode==n&&r!=ot||a!=tt,!i}}).bind("keypress.jsp",function(t){return t.keyCode==n&&e(),!i}),O.hideFocus?(o.css("outline","none"),"hideFocus"in N[0]&&o.attr("hideFocus",!0)):(o.css("outline",""),"hideFocus"in N[0]&&o.attr("hideFocus",!1))}function X(){o.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function R(){if(location.hash&&location.hash.length>1){var e,n,o=escape(location.hash.substr(1));try{e=t("#"+o+', a[name="'+o+'"]')}catch(i){return}e.length&&V.find(o)&&(0===N.scrollTop()?n=setInterval(function(){N.scrollTop()>0&&(B(e,!0),t(document).scrollTop(N.position().top),clearInterval(n))},50):(B(e,!0),t(document).scrollTop(N.position().top)))}}function I(){t(document.body).data("jspHijack")||(t(document.body).data("jspHijack",!0),t(document.body).delegate("a[href*=#]","click",function(n){var o,i,s,r,a,c,l=this.href.substr(0,this.href.indexOf("#")),p=location.href;if(-1!==location.href.indexOf("#")&&(p=location.href.substr(0,location.href.indexOf("#"))),l===p){o=escape(this.href.substr(this.href.indexOf("#")+1));try{i=t("#"+o+', a[name="'+o+'"]')}catch(u){return}i.length&&(s=i.closest(".jspScrollable"),r=s.data("jsp"),r.scrollToElement(i,!0),s[0].scrollIntoView&&(a=t(e).scrollTop(),c=i.offset().top,(a>c||c>a+t(e).height())&&s[0].scrollIntoView()),n.preventDefault())}}))}function F(){var t,e,n,o,i,s=!1;N.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(r){var a=r.originalEvent.touches[0];t=D(),e=x(),n=a.pageX,o=a.pageY,i=!1,s=!0}).bind("touchmove.jsp",function(r){if(s){var a=r.originalEvent.touches[0],c=ot,l=tt;return kt.scrollTo(t+n-a.pageX,e+o-a.pageY),i=i||Math.abs(n-a.pageX)>5||Math.abs(o-a.pageY)>5,c==ot&&l==tt}}).bind("touchend.jsp",function(t){s=!1}).bind("click.jsp-touchclick",function(t){return i?(i=!1,!1):void 0})}function L(){var t=x(),e=D();o.removeClass("jspScrollable").unbind(".jsp"),o.replaceWith(Dt.append(V.children())),Dt.scrollTop(t),Dt.scrollLeft(e),vt&&clearInterval(vt)}var O,V,q,G,N,E,K,Q,U,$,J,Z,_,tt,et,nt,ot,it,st,rt,at,ct,lt,pt,ut,dt,ft,ht,jt,gt,vt,mt,bt,wt,kt=this,yt=!0,Ct=!0,Tt=!1,Bt=!1,Dt=o.clone(!1,!1).empty(),xt=t.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===o.css("box-sizing")?(mt=0,bt=0):(mt=o.css("paddingTop")+" "+o.css("paddingRight")+" "+o.css("paddingBottom")+" "+o.css("paddingLeft"),bt=(parseInt(o.css("paddingLeft"),10)||0)+(parseInt(o.css("paddingRight"),10)||0)),t.extend(kt,{reinitialise:function(e){e=t.extend({},O,e),s(e)},scrollToElement:function(t,e,n){B(t,e,n)},scrollTo:function(t,e,n){T(t,n),C(e,n)},scrollToX:function(t,e){T(t,e)},scrollToY:function(t,e){C(t,e)},scrollToPercentX:function(t,e){T(t*(E-q),e)},scrollToPercentY:function(t,e){C(t*(K-G),e)},scrollBy:function(t,e,n){kt.scrollByX(t,n),kt.scrollByY(e,n)},scrollByX:function(t,e){var n=D()+Math[0>t?"floor":"ceil"](t),o=n/(E-q);b(o*nt,e)},scrollByY:function(t,e){var n=x()+Math[0>t?"floor":"ceil"](t),o=n/(K-G);v(o*_,e)},positionDragX:function(t,e){b(t,e)},positionDragY:function(t,e){v(t,e)},animate:function(t,e,n,o){var i={};i[e]=n,t.animate(i,{duration:O.animateDuration,easing:O.animateEase,queue:!1,step:o})},getContentPositionX:function(){return D()},getContentPositionY:function(){return x()},getContentWidth:function(){return E},getContentHeight:function(){return K},getPercentScrolledX:function(){return D()/(E-q)},getPercentScrolledY:function(){return x()/(K-G)},getIsScrollableH:function(){return J},getIsScrollableV:function(){return $},getContentPane:function(){return V},scrollToBottom:function(t){v(_,t)},hijackInternalLinks:t.noop,destroy:function(){L()}}),s(i)}return o=t.extend({},t.fn.jScrollPane.defaults,o),t.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){o[this]=o[this]||o.speed}),this.each(function(){var e=t(this),n=e.data("jsp");n?n.reinitialise(o):(t("script",e).filter('[type="text/javascript"],:not([type])').remove(),n=new i(e,o),e.data("jsp",n))})},t.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:n,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}},this);
function isset(t){return"undefined"==typeof t?!1:!0}function videoGridBoxIn(){TweenMax.to($(this),.3,{zIndex:9,scale:"1.2"})}function videoGridBoxOut(){TweenMax.to($(this),.3,{zIndex:3,scale:"1"})}function enableClipboard(){var t=new ZeroClipboard($(".clipboardable"));$(".clipboardable").closest(".tooltipable").attr("title",_("Copy to clipboard")),$(".clipboardable").closest(".tooltipable").on("mouseout",function(){$(this).attr("title",_("Copy to clipboard")),$(this).attr("data-original-title",_("Copy to clipboard"))}),t.on("ready",function(e){t.on("aftercopy",function(t){$(t.target).closest(".tooltipable").attr("title",_("Copied!")),$(t.target).closest(".tooltipable").attr("data-original-title",_("Copied!")),$(t.target).closest(".tooltipable").tooltip("show")})}),$(".tooltipable").tooltip()}function goTo(t){window.location=$(t.target).attr("data-url")}function convertToSlug(t){return t.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")}function followRedirect(t){window.location=t.url}function uniqueId(){for(id=1e6*Math.random(),id=Math.ceil(id);-1!=unique_numbers.indexOf(id);)id=1e6*Math.random(),id=Math.ceil(id),unique_numbers.push(id);return id}function unhide(t){$(t).removeClass("hidden"),$(t).css("opacity","0"),$(".steps-meter").find("p.active").removeClass("active"),$('[data-target="'+t+'"]').addClass("active"),$(t).animate({opacity:1},1e3),val=$(t).prev(".animated-step").outerHeight(!0),console.log(val),$(t).prev(".animated-step").animate({opacity:0,marginTop:-val},1e3,function(){$(t).prev(".animated-step").hide()})}function reverseUnhide(){return elem="#"+$(".animated-step:visible").attr("id"),"#step1"==elem?!1:(prev="#"+$(elem).prev(".animated-step").attr("id"),console.log(prev),$(".steps-meter").find("p.active").removeClass("active"),$('[data-target="'+prev+'"]').addClass("active"),$(elem).animate({opacity:0},1e3,function(){$(elem).addClass("hidden")}),$(elem).prev(".animated-step").show(),void $(elem).prev(".animated-step").animate({opacity:1,marginTop:0},1e3,function(){}))}function slideToggle(t){t.preventDefault(),target=$(t.target).attr("data-target"),$(target).slideToggle("fast",function(){var e=$(t.target).attr("data-callback");"undefined"!=typeof e&&window[e](t)})}function prepareLoadRemote(t){$(t.target).attr("data-url",$(t.target).attr("href")),"undefined"!=typeof $(t.target).closest(".load-remote").attr("data-callback")&&$(t.target).attr("data-callback",$(t.target).closest(".load-remote").attr("data-callback")),"undefined"!=typeof $(t.target).closest(".load-remote").attr("data-load-method")&&$(t.target).attr("data-load-method",$(t.target).closest(".load-remote").attr("data-load-method")),$(t.target).attr("data-target",$(t.target).closest(".load-remote").attr("data-target")),loadRemote(t)}function formToRemoteLink(t){return url=$(t.target).attr("action"),url+="?"+$(t.target).serialize(),$(t.target).attr("data-url",url),loadRemote(t),!1}function linkToRemote(t){t.preventDefault();var e=$(t.target).attr("data-nofollow");if("undefined"!=typeof e&&1==e)return!1;var a=$(t.target).attr("data-loading");if("undefined"!=typeof a&&1==a)return!1;url=$(t.target).attr("data-url");var o=$(t.target).attr("data-callback");for(elem=$(t.target),preFunction=$(t.target).attr("data-pre-function"),loadingContainer=$(t.target).attr("data-loading-container");"undefined"==typeof url;)elem=elem.parent(),url=elem.attr("data-url"),preFunction=elem.attr("data-pre-function"),o=elem.attr("data-callback"),loadingContainer=elem.attr("data-loading-container"),t.target=elem;isset(loadingContainer)?$(loadingContainer).html('<img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" />'):($(elem).attr("data-old-label",$(elem).html()),$(elem).html('<img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" />')),"undefined"!=typeof preFunction&&window[preFunction](t),$.get(url,function(e){$(t.target).attr("data-loading",0),$(elem).html($(elem).attr("data-old-label")),e=JSON.parse(e),"success"==e.status?"undefined"!=typeof o&&window[o](t,e):(console.log(e),$.bootstrapGrowl(_("An Error Occurred."),{align:"center",type:"danger"}))})}function linkToRemoteConfirm(t){for(t.preventDefault(),msg=$(t.target).attr("data-message"),elem=$(t.target);"undefined"==typeof msg;)elem=elem.parent(),msg=elem.attr("data-message");if(!confirm(msg))return!1;var e=$(t.target).attr("data-nofollow");if("undefined"!=typeof e&&1==e)return!1;var a=$(t.target).attr("data-loading");if("undefined"!=typeof a&&1==a)return!1;url=$(t.target).attr("data-url");var o=$(t.target).attr("data-callback");for(elem=$(t.target);"undefined"==typeof url;)elem=elem.parent(),url=elem.attr("data-url"),o=elem.attr("data-callback"),t.target=elem;$(elem).attr("data-old-label",$(elem).html()),$(elem).html('<img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" />'),$.get(url,function(e){$(t.target).attr("data-loading",0),$(elem).html($(elem).attr("data-old-label")),e=JSON.parse(e),"success"==e.status?"undefined"!=typeof o&&window[o](t,e):(console.log(e),$.bootstrapGrowl(_("An Error Occurred."),{align:"center",type:"danger"}))})}function loadRemote(t){t.preventDefault();var e=$(t.target).attr("data-nofollow");if("undefined"!=typeof e&&1==e)return!1;var a=$(t.target).attr("data-loading");if("undefined"!=typeof a&&1==a)return!1;url=$(t.target).attr("data-url"),target=$(t.target).attr("data-target");var o=$(t.target).attr("data-callback");for(elem=$(t.target),loadMethod=$(t.target).attr("data-load-method"),noPush=$(t.target).attr("data-no-push-state"),indicatorStyle=$(t.target).attr("data-indicator-style"),failSafe=0;"undefined"==typeof url;){if(elem=elem.parent(),url=elem.attr("data-url"),target=elem.attr("data-target"),o=elem.attr("data-callback"),noPush=elem.attr("data-no-push-state"),loadMethod=$(t.target).attr("data-load-method"),indicatorStyle=elem.attr("data-indicator-style"),failSafe>50)return;failSave++}$(t.target).attr("data-loading",1),"undefined"==typeof noPush&&history.pushState({},"",url),"undefined"==typeof loadMethod||"load"==loadMethod?(console.log(url),"undefined"==typeof indicatorStyle?$(target).html('<center><img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" /></center> '):($(target).children("*").css("opacity",.1),$(target).append('<div class="small-overlay"><center><img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" /></center></div>')),$(target).load(url,function(){$(t.target).attr("data-loading",0),"undefined"!=typeof o&&window[o](t)})):"append"==loadMethod||"prepend"==loadMethod?($(target).prepend('<p class="remove_this">'+_("loading...")+'<img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader.gif" /></p>'),$.get(url,function(e){$(".remove_this").remove(),$(t.target).attr("data-loading",0),"append"==loadMethod?$(target).append(e):$(target).prepend(e),"undefined"!=typeof o&&window[o](t)})):"fade"==loadMethod&&($(target).addClass("disabled-item"),$(target).after("<div class='overlay-loading'></div>"),mt=$(target).height(),mt/=2,$(".overlay-loading").css("margin-top","-"+mt+"px"),$(target).load(url,function(){$(".overlay-loading").remove(),$(target).removeClass("disabled-item"),$(t.target).attr("data-loading",0),"undefined"!=typeof o&&window[o](t)}))}function loadMoreComments(t){for(t.preventDefault(),url=$(t.target).attr("data-url"),target=$(t.target).attr("data-target"),skip=$(t.target).attr("data-skip"),lesson=$(t.target).attr("data-lesson"),post_field=$(t.target).attr("data-post-field"),id=$(t.target).attr("data-id"),elem=$(t.target);"undefined"==typeof url;)elem=elem.parent(),url=elem.attr("data-url"),target=elem.attr("data-target"),callback=elem.attr("data-callback");var e=0;animationInterval=setInterval(function(){e++,document.getElementById("load-more-ajax-button").innerHTML="Loading."+new Array(e%4).join(".")},500);var a={};a.skip=skip,a[post_field]=id,$.post(url,a,function(e){$(t.target).attr("href","#"),clearInterval(animationInterval),$(t.target).html(_("LOAD MORE")),""==$.trim(e)&&($(t.target).removeClass("load-more-ajax"),$(t.target).html(_("Nothing more to load"))),$(target).append(e).fadeIn("slow"),skip=1*skip+2,$(t.target).attr("data-skip",skip)})}function loadRemoteCache(t){t.preventDefault(),url=$(t.target).attr("data-url"),target=$(t.target).attr("data-target");var e=$(t.target).attr("data-callback"),a=$(t.target).attr("data-cached-callback");for(elem=$(t.target);"undefined"==typeof url;)elem=elem.parent(),url=elem.attr("data-url"),target=elem.attr("data-target"),e=elem.attr("data-callback"),a=elem.attr("data-cached-callback");if($(target).parent().children().hide(),$(target).show(),"1"==elem.attr("data-loaded"))return"undefined"!=typeof a&&window[a](t),!1;gif='<img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/ajax-loader-2.gif" />',customGif=$(t.target).attr("data-gif"),"undefined"!=typeof customGif&&(gif='<img src="https://s3-ap-northeast-1.amazonaws.com/wazaar/assets/images/icons/'+customGif+'" />');$(target).html(gif).css({textAlign:"center",marginBottom:0,marginTop:0});$(target).load(url,function(a,o,r){elem.attr("data-loaded","1"),elem.addClass("dataLoaded"),"undefined"!=typeof e&&window[e](t)})}function stepsScrollAnimation(){return 0==$(".animated-step").length?!1:scrollAnimationActivated?$(window).scrollTop()+$(window).height()==$(document).height()?(scrollAnimationActivated=!1,$(".animated-step:visible").find(".unhide-btn").click(),setTimeout(function(){scrollAnimationActivated=!0},2e3),!1):void(0==$(window).scrollTop()&&(scrollAnimationActivated=!1,reverseUnhide(),setTimeout(function(){scrollAnimationActivated=!0},2e3))):!1}function floatingNav(){if(0==$(".main-nav-section, .fixed-menu").length)return!1;var t=$(".main-nav-section, .fixed-menu").position().top;$(window).scroll(function(){var e=$(".main-nav-section, .fixed-menu"),a=document.documentElement.scrollTop||document.body.scrollTop;a>t&&!e.is(".filterbuttonFixed")?e.addClass("filterbuttonFixed"):t>a&&e.is(".filterbuttonFixed")&&e.removeClass("filterbuttonFixed")})}function scrollNavigation(){$(".main-nav-section a[href*=#]").each(function(){if("#video-grid"!=$(this).attr("href")&&location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname&&this.hash.replace(/#/,"")){var t=$(this.hash),e=$("[name="+this.hash.slice(1)+"]"),a=t.length?t:e.length?e:!1;if(a){var o=a.offset().top;$(this).click(function(){return $("#nav li a").removeClass("active"),$(this).addClass("active"),$("html, body").animate({scrollTop:o},1e3),!1})}}}),$(window).scroll(function(){$(".parallax-1, .parallax-2").animate({backgroundPosition:"(50% -2000px)"},480)})}function addToList(t,e,a){var o=$(e.target).attr("data-destination");"undefined"!=typeof $(e.target).attr("data-prepend")&&(a=$(e.target).attr("data-prepend")),"undefined"==typeof a?$(o).append(t.html):$(o).prepend(t.html),$(e.target)[0].reset()}function updateHTML(t,e){var a=$(t.target).attr("data-target");prop=$(t.target).attr("data-property"),val=e[prop],$(a).html(val)}function showClassroomQuestion(t,e){$("#myVideo").length>0&&$("#myVideo")[0].pause();$(t.target).attr("data-target");prop=$(t.target).attr("data-property"),val=e[prop];bootbox.dialog({title:e.title,message:val})}function replaceElementWithUploaded(t,e){var a=$(t.target).attr("data-progress-bar");if($(a).find("span").html(""),$(a).css("width","0%"),result=JSON.parse(e.result),"error"==result.status)return $(t.target).after("<p class='alert alert-danger ajax-error'>"+result.errors+"</p>"),!1;var o=$(t.target).attr("data-replace");$(o).replaceWith(result.html)}function replaceElementWithReturned(t,e){var a=$(e.target).attr("data-replace");$(a).replaceWith(t.html),console.log(a),console.log(t.html)}function postedComment(t,e){$(e.target).find(".reply-to").val()>0?(count=$(e.target).closest(".comment-form-reply").parent().parent().parent().find(".number-of-replies").html(),$.trim(count),count=count.split(" "),count=count[0],count_number=count=1*count+1,count+=" "+_("reply"),$(e.target).closest(".comment-form-reply").parent().parent().parent().find(".number-of-replies").first().html(count),$(e.target).closest(".comment-form-reply").remove(),addToList(t,e)):1==$(e.target).attr("data-reverse")?addToList(t,e):addToList(t,e,!0)}function collapseComments(t){$(t.target).removeClass("load-remote"),$(t.target).addClass("slide-toggler"),$(t.target).attr("data-callback","rotateCollapse"),$(t.target).find(".fa-arrow-down").remove(),$(t.target).append(" <i class='fa fa-arrow-up fa-animated'></i>")}function rotateCollapse(t){rotation=0==rotation?180:0,$(t.target).find(".fa").rotate(rotation)}function ratedTestimonial(t,e){thumbs=$(e.target).attr("data-total"),thumbs_up=$(e.target).attr("data-up"),thumbs_down=$(e.target).attr("data-down"),id=$(e.target).attr("data-testimonial-id"),rate=$(e.target).attr("data-thumb"),already_rated="undefined"==typeof $(e.target).attr("data-rated")?!1:$(e.target).attr("data-rated"),already_rated?"up"==rate?"negative"==already_rated&&(--thumbs_down,++thumbs_up):"positive"==already_rated&&(++thumbs_down,--thumbs_up):(thumbs++,"up"==rate?++thumbs_up:++thumbs_down),1==thumbs&&($(".testimonial-"+id+"-placeholder").hide(),$(".testimonial-"+id).removeClass("hidden"),"up"==rate?($(".testimonial-"+id).find(".fa-thumbs-o-down").hide(),$(".testimonial-"+id).find(".thumbs-down-label").hide(),$(".testimonial-"+id).find(".fa-thumbs-o-up").show(),$(".testimonial-"+id).find(".thumbs-up-label").show(),$(".testimonial-"+id).find(".not-very").html(_("very"))):($(".testimonial-"+id).find(".fa-thumbs-o-up").hide(),$(".testimonial-"+id).find(".thumbs-up-label").hide(),$(".testimonial-"+id).find(".fa-thumbs-o-down").show(),$(".testimonial-"+id).find(".thumbs-down-label").show(),$(".testimonial-"+id).find(".not-very").html(_("not")))),$(".testimonial-"+id).find(".thumbs-up-label").html(thumbs_up),$(".testimonial-"+id).find(".thumbs-down-label").html(thumbs_down),$(".testimonial-"+id).find(".thumbs-total-label").html(thumbs),$('[data-testimonial-id="'+id+'"]').prop("disabled",!0),$('[data-testimonial-id="'+id+'"]').prop("disabled","disabled")}function fullScreen(){function t(){$(".lessons li a").hide(),TweenMax.to("#curriculum > div",0,{backgroundColor:"#fff"})}function e(){$("#close-button").show(),$("#curriculum > div > div").height($browserHeight),$(".lessons").height("100%"),$("#curriculum .lessons li a").show().css({top:"200px",opacity:"0"}),TweenMax.staggerTo(".module-lesson",.7,{top:"0",opacity:"1",ease:Power4.easeOut},.1),$(".jspContainer").height("90%"),$(".jspPane").css({padding:"0 0 0 1%"}),$(".classrooms-wrapper").css("background-color","#fff"),$(".jspVerticalBar").css("right","1%"),$(".classroom-content .curriculum p.lead").css({"font-size":"22px","text-align":"center","margin-bottom":"0"}),$(".classroom-content .curriculum div.view-previous-lessons").css({"line-height":"0",height:"32px","margin-bottom":"0"}),$("body").css("overflow","hidden")}function a(){$("#view-all-lessons").show(),TweenMax.to("#curriculum > div",0,{backgroundColor:"transparent"})}$browserHeight=$(window).height(),$browserWidth=$(window).width();var o={margin:"0% auto 0",position:"relative",top:"-7%",left:0,right:0,bottom:0,height:"590px",ease:Power4.easeOut},r={position:"fixed",top:"auto",left:0,bottom:0,right:0,opacity:1,margin:"0 auto",width:$browserWidth,height:$browserHeight,onStart:t,onReverseComplete:a,onComplete:e,ease:Power4.easeOut},n=TweenMax.fromTo("#curriculum > div",.7,o,r);n.pause(),$("#view-all-lessons").click(function(){n.play(),$(this).hide()}),$("#close-button").click(function(){n.reverse(),$(this).hide(),$("body").css("overflow","auto"),$(".lessons").height("400px"),$(".jspContainer").height("100%"),$(".jspPane").css({padding:"0"}),$(".classrooms-wrapper").css("background-color","#f8f8f8"),$(".jspVerticalBar").css({right:"0%"}),$(".classroom-content .curriculum p.lead").css({"font-size":"18px","text-align":"left","margin-bottom":"10px"}),$(".classroom-content .curriculum div.view-previous-lessons").css({"line-height":"64px",height:"64px","margin-bottom":"10px"})})}function skinVideoControls(){var t=$("#myVideo");if(0!=$("#myVideo").length){if(t){var e=t.innerWidth(),a=t.innerHeight();console.log("Player height is"+a),console.log("Player Width is"+e);{var o=$(".play-intro-button").outerHeight();$(".course-details-player .control-container").outerHeight()}console.log("Button height is "+o),$(".play-intro-button").css("top",a/2-o/2),(t[0].paused||t[0].ended)&&$(".play-intro-button").show()}t[0].removeAttribute("controls"),$(".control").show(),t.on("loadedmetadata",function(){$(".current").text(c(0))}),t.on("timeupdate",function(){var e=t[0].currentTime,a=t[0].duration,o=100*e/a;$(".timeBar").css("width",o+"%"),$(".current").text(c(e))});var r=function(){console.log("PLAYPAUSE"),t[0].paused||t[0].ended?(console.log("playing the vid"),$(".btnPlay").addClass("playing").removeClass("paused"),$(".btnPlay .wa-play").hide(),$(".btnPlay .wa-pause").show(),t[0].play(),$(".centered-play-button, .play-intro-button").hide()):(console.log("pausing the vid"),$(".btnPlay").removeClass("playing").addClass("paused"),$(".btnPlay .wa-play").show(),$(".btnPlay .wa-pause").hide(),t[0].pause(),$(".centered-play-button, .play-intro-button").show())};t.off("click"),t.on("click",function(){r()}),$(".btnPlay, .centered-play-button, .play-intro-button").off("click"),$(".btnPlay, .centered-play-button, .play-intro-button").on("click",function(){r(),$("#lesson-video-overlay").hide()}),$("#bckgrd-video-container .centered-play-button").on("click",function(){$("#bckgrd-video-container #bckgrd-video-overlay").hide();var e=t[0].videoHeight;$("#bckgrd-video-container").css("height",e+95),$(".video-container .control div.btnFS").hide()}),$(".btnFS").on("click",function(){$.isFunction(t[0].webkitEnterFullscreen)?t[0].webkitEnterFullscreen():$.isFunction(t[0].mozRequestFullScreen)?t[0].mozRequestFullScreen():alert("Your browsers doesn't support fullscreen")}),$(".sound").off("click"),$(".sound").click(function(){console.log("SOUNDCLICKING!"),console.log(t[0].muted),t[0].muted=!t[0].muted,$(this).toggleClass("muted"),console.log(t[0].muted),t[0].muted?($(".volumeBar").css("width",0),$(".wa-sound").hide(),$(".fa.fa-volume-off").show()):($(".volumeBar").css("width",100*t[0].volume+"%"),$(".wa-sound").show(),$(".fa.fa-volume-off").hide())});var n=!1;t.on("canplaythrough",function(){n=!0}),t.on("ended",function(){$(".btnPlay").removeClass("playing"),t[0].pause()}),t.on("seeked",function(){});var i=!1;$(".videoContainer .progress").on("mousedown",function(t){i=!0,l(t.pageX)}),$(document).on("mouseup",function(t){i&&(i=!1,l(t.pageX))}),$(document).on("mousemove",function(t){i&&l(t.pageX)});var l=function(e){var a=$(".videoContainer .progress");t=$("#myVideo");var o=t[0].duration;console.log("MAXDURATION IS "+o);var r=e-a.offset().left,n=100*r/a.width();n>100&&(n=100),0>n&&(n=0),$(".timeBar").css("width",n+"%"),ct=o*n/100,console.log(" CURRENT TIME IS: "+ct),t.currentTime=ct,console.log("Updated TIME IS: "+t.currentTime)},s=!1;$(".volume").on("mousedown",function(e){s=!0,t[0].muted=!1,$(".sound").removeClass("muted"),d(e.pageX)}),$(document).on("mouseup",function(t){s&&(s=!1,d(t.pageX))}),$(document).on("mousemove",function(t){s&&d(t.pageX)});var d=function(e,a){var o,r=$(".volume");if(a)o=100*a;else{var n=e-r.offset().left;o=100*n/r.width()}o>100&&(o=100),0>o&&(o=0),$(".volumeBar").css("width",o+"%"),t[0].volume=o/100,0==t[0].volume?($(".sound").removeClass("sound2").removeClass("sound3").addClass("muted"),$(".wa-sound").hide(),$(".fa.fa-volume-off").show()):t[0].volume>0&&t[0].volume<.6?($(".sound").removeClass("muted").removeClass("sound3").addClass("sound2"),$(".wa-sound").show(),$(".fa.fa-volume-off").hide()):t[0].volume>.6&&($(".sound").removeClass("sound2").removeClass("muted").addClass("sound3"),$(".wa-sound").show(),$(".fa.fa-volume-off").hide())},c=function(t){var e=Math.floor(t/60)<10?"0"+Math.floor(t/60):Math.floor(t/60),a=Math.floor(t-60*e)<10?"0"+Math.floor(t-60*e):Math.floor(t-60*e);return e+":"+a};loop_failsafe=0;var u=function(){t=$("#myVideo"),duration=t[0].duration,console.log("DURATION IS  "+t[0].duration),$(".duration").text(c(t[0].duration)),loop_failsafe++,loop_failsafe>10||isNaN(duration)&&setTimeout(u,100)};return u(),d(0,.7),!0}}function insertSelectBorder(){$(".use-existing-preview .select-border").off("click"),$(".use-existing-preview .select-border").on("click",function(){$(this).toggleClass("display-border"),$(this).hasClass("display-border")&&($(".use-existing-preview .select-border").not(this).removeClass("display-border"),$(this).parent().find('input[type="radio"]').prop("checked",!0))})}function delayedKeyup(t){delay(window[$(t.target).attr("data-callback")],$(t.target).attr("data-delay"),$(t.target))}function askTeacherQuestion(){var t=$("#lesson-ask-teacher-section").height(),e=$("#lesson-ask-teacher-section").width(),a=TweenMax.fromTo(".no-teacher-questions",1e-6,{height:0,width:0},{display:"block",height:t,width:e}),o=TweenMax.to(".no-teacher-questions > div",.3,{transform:"scale(1)"});o.pause(),a.pause(),$("#lesson-ask-teacher-section").show(),$("#show-teacher-questions").on("click",function(){$("#lesson-ask-teacher-section").hasClass("hide-teacher-questions")?($("#lesson-ask-teacher-section").removeClass("hide-teacher-questions"),o.play(),a.play()):($("#lesson-ask-teacher-section").addClass("hide-teacher-questions"),o.reverse(),a.reverse())})}function searchFormFocusStyle(){$(".course-search-section .course-search-form input").on("focus",function(){$(".course-search-section .course-search-form form").css({border:"solid 1px #abd82a",boxShadow:"0px 0px 7px 1px #abd82a"}),$(this).attr("placeholder","")}),$(".course-search-section .course-search-form input").on("blur",function(){$(".course-search-section .course-search-form form").css({border:"solid 1px #fff",boxShadow:"none"}),$(this).attr("placeholder","E.g. Javascript, online business, etc ...")}),$(".comment-section .comment-box form textarea").on("focus",function(){$(this).data("placeholder",$(this).attr("placeholder")),$(this).attr("placeholder","")}),$(".comment-section .comment-box form textarea").on("blur",function(){$(this).attr("placeholder",$(this).data("placeholder"))})}function showMoreContent(){$(".expandable-button").each(function(){var t=$(this),e=t.parent().children(".expandable-content");console.log(t),console.log(e);var a=e[0].clientHeight,o=e[0].scrollHeight-1;e.css("height",a),console.log(o),console.log(a),o>a?t.show():t.hide(),$(".course-description p").each(function(){$(this).text().trim().length||$(this).addClass("no-margin")}),t.is(":visible")?t.parent().find(".fadeout-text").show():t.parent().find(".fadeout-text").hide(),t.html('<i class="fa fa-chevron-down"></i>'+t.attr("data-more-text")),t.on("click",function(){return t.hasClass("show-more")?(t.removeClass("show-more"),t.addClass("show-less"),t.siblings(".fadeout-text").hide(),e.css("max-height","none"),t.html('<i class="fa fa-chevron-up"></i>'+t.attr("data-less-text")),TweenMax.fromTo(e,0,{height:a},{height:o})):t.hasClass("show-less")&&(t.removeClass("show-less"),t.addClass("show-more"),t.siblings(".fadeout-text").show(),t.html('<i class="fa fa-chevron-down"></i>'+t.attr("data-more-text")),TweenMax.fromTo(e,0,{height:o},{height:a})),!1})})}function rescaleBckgrdOverlay(){var t=$("#user-data-bckgrd-img").css("height"),e=$("#user-data-bckgrd-img").css("width");$(".background-image-overlay").css("height",t),$(".background-image-overlay").css("width",e)}function round2(t,e){return Math.round(t/e)*e}function xmlToJson(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var a=0;a<t.attributes.length;a++){var o=t.attributes.item(a);e["@attributes"][o.nodeName]=o.nodeValue}}}else 3==t.nodeType&&(e=t.nodeValue);if(t.hasChildNodes())for(var r=0;r<t.childNodes.length;r++){var n=t.childNodes.item(r),i=n.nodeName;if("undefined"==typeof e[i])e[i]=xmlToJson(n);else{if("undefined"==typeof e[i].push){var l=e[i];e[i]=[],e[i].push(l)}e[i].push(xmlToJson(n))}}return e}function toggleSideMenu(){$("body").delegate(".slide-menu-toggler","click",function(){$(".slide-menu").toggleClass("in")})}function toggleRightBar(t,e){if(isset(e)&&"undefined"!=typeof t&&"undefined"!=typeof $(t.target).attr("data-property")&&$(".right-slide-menu").hasClass("in")){var a=$(t.target).attr("data-target");return prop=$(t.target).attr("data-property"),val=e[prop],$(a).html(val),!1}if(!isset(e)&&isset(t)&&"undefined"!=typeof $(t.target).attr("data-property")&&$(".right-slide-menu").hasClass("in"))return!1;if($(".play-intro-button").hide(),$(".right-slide-menu").toggleClass("in"),$(".slide-to-left").toggleClass("in"),$("body").toggleClass("discussion-opened"),setTimeout(skinVideoControls,501),!isset(e))return!1;if("undefined"!=typeof t){$("#myVideo").length>0&&$("#myVideo")[0].pause();var a=$(t.target).attr("data-target");prop=$(t.target).attr("data-property"),val=e[prop],$(a).html(val)}}function colorLinks(t){color=$(t.target).attr("data-color"),elem=$(t.target).attr("data-elem"),$(elem).removeClass("active"),$(t.target).addClass("active")}function searchDiscussions(){s=$("#question-search-box").val(),$(".questions-box").hide(),$('span:contains("'+s+'")').parent().show()}function showLessonQuestionForm(){$(".right-slide-menu").html($("#question-form").html()),toggleRightBar()}function LessonQuestionAddToList(t,e){addToList(t,e),toggleRightBar()}function scrollToElement(t){t.preventDefault(),target=$(t.target).attr("data-target"),$("html, body").animate({scrollTop:$(target).offset().top},400)}function toggleAffiliateToolbar(t){$("div.affiliate-toolbar").toggleClass("minimized"),$("div.affiliate-toolbar").toggleClass("tooltipable"),$("div.affiliate-toolbar").toggleClass("affiliate-toolbar-toggler"),$(".affiliate-toolbar-toggler-btn").toggleClass("affiliate-toolbar-toggler"),$(".tooltipable").tooltip(),hideAffiliateToolbar=!hideAffiliateToolbar,document.cookie="hideAffiliateToolbar="+hideAffiliateToolbar}function getCookie(t){for(var e=t+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var r=a[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}function charactersLeft(t){elem=$(t.target),limit=$(elem).attr("maxlength"),current=$(elem).val().length,remaining=limit-current,display=$(elem).attr("data-target"),$(display).html(remaining)}function enableCharactersLeft(){$(".characters-left").each(function(){$(this).keyup()})}function toggleTheClass(t){$source=$(t.target),dest=$source.attr("data-target"),cls=$source.attr("data-class"),$(dest).toggleClass(cls)}function toggleVisibility(t){$source=$(t.target),dest=$source.attr("data-target"),hide=$source.attr("data-visible"),"hide"==hide?($source.attr("data-visible","show"),$(dest).hide()):($source.attr("data-visible","hide"),$(dest).show())}function typeInElemens(t){elem=$(t.target).attr("data-elements"),$(elem).html($(t.target).val())}function calculateFileSizes(){$(".calculate-file-size").each(function(){id=$(this).attr("data-id"),obj=$(this),$.get(COCORIUM_APP_PATH+"blocks/"+id+"/size",function(t){t=JSON.parse(t),$obj=$(".calculate-file-size-"+t.id),console.log($obj),$obj.html(t.val),console.log(t.val),$obj.removeClass("calculate-file-size")})})}function showFiles(t,e){t.preventDefault(),t.stopPropagation(),$(e).slideToggle()}function enableRTE(t,e){"undefined"==typeof e&&(e=function(){}),tinymce.remove(t),tinymce.init({setup:function(t){t.on("change",e)},menu:{},language:"ja",language_url:COCORIUM_APP_PATH+"js/lang/tinymce/ja.js",autosave_interval:"20s",autosave_restore_when_empty:!0,selector:t,save_onsavecallback:function(){return savingAnimation(0),$(t).closest("form").submit(),savingAnimation(1),!0},plugins:["advlist autolink autosave lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste save"],toolbar:"bold | bullist numlist",statusbar:!1})}function wishlistChange(t){return t.preventDefault(),t.stopPropagation(),$target=$(t.target),0==$target.attr("data-auth")?($target.attr("data-original-title",_("Login to add to wishlist")),$target.animate({"margin-left":"-5px"},50).animate({"margin-left":"+5px"},50).animate({"margin-left":"-5px"},50).animate({"margin-left":"0px"},50),!1):(url=$target.attr("data-url"),state=1==$target.attr("data-state")?0:1,$target.attr("data-state",state),0==state?($target.addClass("fa-heart-o"),$target.removeClass("fa-heart"),$target.attr("data-original-title",_("Add to wishlist"))):($target.removeClass("fa-heart-o"),$target.addClass("fa-heart"),$target.attr("data-original-title",_("Remove from wishlist"))),void $.get(url+"/"+state,function(){}))}var COCORIUM_APP_PATH="//"+document.location.hostname+"/";$(document).ready(function(){console.log(getCookie("hideAffiliateToolbar")),"true"==getCookie("hideAffiliateToolbar")&&toggleAffiliateToolbar(event),$(".countdown").each(function(){seconds=$(this).attr("data-final-date-seconds"),time=moment().add(seconds,"seconds").format("YYYY/MM/DD HH:mm:ss"),time=time.toString(),console.log(time),$(this).countdown(time,function(t){$(this).html(t.strftime("%D days %H:%M:%S"))})}),$(".tooltipable").tooltip(),enableClipboard(),$("#curriculum .lessons").jScrollPane(),$(".profile-name > li").removeClass("activate-dropdown"),$("body").delegate(".type-in-elements","keyup",typeInElemens),$("body").delegate(".characters-left","keyup",charactersLeft),$("body").delegate(".scroll-to-element","click",scrollToElement),$("body").delegate(".slide-toggler","click",slideToggle),$("body").delegate("a.load-remote","click",loadRemote),$("body").delegate("a.link-to-remote","click",linkToRemote),$("body").delegate("a.link-to-remote-confirm","click",linkToRemoteConfirm),$("body").delegate(".form-to-remote-link","submit",formToRemoteLink),$("body").delegate(".load-remote a","click",prepareLoadRemote),$("body").delegate("a.load-more-ajax","click",loadMoreComments),$("body").delegate("a.load-remote-cache","click",loadRemoteCache),$("body").delegate(".btnLink","click",goTo),$("body").delegate("#video-grid .boxes","mouseenter",videoGridBoxIn),$("body").delegate("#video-grid .boxes","mouseleave",videoGridBoxOut),$("body").delegate(".delayed-keyup","keyup",delayedKeyup),$("button.join-class").mousedown(function(){$(this).addClass("pushdown")}),$("button.join-class").mouseup(function(){$(this).removeClass("pushdown")}),$(window).scroll(stepsScrollAnimation),floatingNav(),scrollNavigation(),fullScreen(),skinVideoControls(),insertSelectBorder(),askTeacherQuestion(),searchFormFocusStyle(),showMoreContent(),toggleSideMenu(),rescaleBckgrdOverlay(),$(window).resize(function(){rescaleBckgrdOverlay(),skinVideoControls()}),$(".classroom-view #myVideo").resize(function(){skinVideoControls()})});var unique_numbers=new Array;scrollAnimationActivated=!0,$.fn.scrollToChild=function(t){this.css("color","green"),this.scrollTop(this.scrollTop()+$(t).position().top-$(t).height())};var rotation=0;jQuery.fn.rotate=function(t){return $(this).css({"-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"}),$(this)};var delay=function(){var t=0;return function(e,a,o){clearTimeout(t),t=setTimeout(e,a,o)}}();$.expr[":"].contains=$.expr.createPseudo(function(t){return function(e){return $(e).text().toUpperCase().indexOf(t.toUpperCase())>=0}}),$("body").on("click",".affiliate-toolbar-toggler",toggleAffiliateToolbar);var hideAffiliateToolbar=!1;$("body").delegate(".wishlist-change-button","click",wishlistChange);
function loadMessage(e){$(e.target).closest("tr").removeClass("bolded"),id=$(e.target).attr("data-row-id"),0==$("#"+id).length?($(e.target).closest("tr").after("<tr id='"+id+"'><td colspan='3'></td></tr>"),loadRemoteCache(e)):$("#"+id).slideToggle("fast")}function postedStudentPM(e){history.pushState({},"","/private-messages"),$("#start-pm-form").parent().parent().slideToggle(),$.bootstrapGrowl(_("Message Sent"),{align:"center",type:"success"})}$(document).ready(function(){$("body").delegate(".load-message","click",loadMessage)});
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};e=function(){function e(e,o){var s,n,l,r=this;if(r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(e),appendDots:i(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(i,e){return'<button type="button" data-role="none">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},i.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.hidden="hidden",r.paused=!1,r.positionProp=null,r.respondTo=null,r.shouldClick=!0,r.$slider=i(e),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,s=i(e).data("slick")||{},r.options=i.extend({},r.defaults,s,o),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,n=r.options.responsive||null,n&&n.length>-1){r.respondTo=r.options.respondTo||"window";for(l in n)n.hasOwnProperty(l)&&(r.breakpoints.push(n[l].breakpoint),r.breakpointSettings[n[l].breakpoint]=n[l].settings);r.breakpoints.sort(function(i,e){return r.options.mobileFirst===!0?i-e:e-i})}"undefined"!=typeof document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(r.hidden="msHidden",r.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=i.proxy(r.autoPlay,r),r.autoPlayClear=i.proxy(r.autoPlayClear,r),r.changeSlide=i.proxy(r.changeSlide,r),r.clickHandler=i.proxy(r.clickHandler,r),r.selectHandler=i.proxy(r.selectHandler,r),r.setPosition=i.proxy(r.setPosition,r),r.swipeHandler=i.proxy(r.swipeHandler,r),r.dragHandler=i.proxy(r.dragHandler,r),r.keyHandler=i.proxy(r.keyHandler,r),r.autoPlayIterator=i.proxy(r.autoPlayIterator,r),r.instanceUid=t++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.init(),r.checkResponsive(!0)}var t=0;return e}(),e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(0>t||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):o===!0?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(e=-e),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),s.options.vertical===!1?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),o[s.animType]=s.options.vertical===!1?"translate3d("+e+"px, 0px, 0px)":"translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.asNavFor=function(e){var t=this,o=null!==t.options.asNavFor?i(t.options.asNavFor).slick("getSlick"):null;null!==o&&o.slideHandler(e,!0)},e.prototype.applyTransition=function(i){var e=this,t={};t[e.transitionType]=e.options.fade===!1?e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:"opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer),i.slideCount>i.options.slidesToShow&&i.paused!==!0&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this;i.options.infinite===!1?1===i.direction?(i.currentSlide+1===i.slideCount-1&&(i.direction=0),i.slideHandler(i.currentSlide+i.options.slidesToScroll)):(i.currentSlide-1===0&&(i.direction=1),i.slideHandler(i.currentSlide-i.options.slidesToScroll)):i.slideHandler(i.currentSlide+i.options.slidesToScroll)},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=i(e.options.prevArrow),e.$nextArrow=i(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled"))},e.prototype.buildDots=function(){var e,t,o=this;if(o.options.dots===!0&&o.slideCount>o.options.slidesToShow){for(t='<ul class="'+o.options.dotsClass+'">',e=0;e<=o.getDotCount();e+=1)t+="<li>"+o.options.customPaging.call(this,o,e)+"</li>";t+="</ul>",o.$dots=i(t).appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?i('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),(e.options.centerMode===!0||e.options.swipeToSlide===!0)&&(e.options.slidesToScroll=1),i("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.options.accessibility===!0&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.checkResponsive=function(e){var t,o,s,n=this,l=n.$slider.width(),r=window.innerWidth||i(window).width();if("window"===n.respondTo?s=r:"slider"===n.respondTo?s=l:"min"===n.respondTo&&(s=Math.min(r,l)),n.originalSettings.responsive&&n.originalSettings.responsive.length>-1&&null!==n.originalSettings.responsive){o=null;for(t in n.breakpoints)n.breakpoints.hasOwnProperty(t)&&(n.originalSettings.mobileFirst===!1?s<n.breakpoints[t]&&(o=n.breakpoints[t]):s>n.breakpoints[t]&&(o=n.breakpoints[t]));null!==o?null!==n.activeBreakpoint?o!==n.activeBreakpoint&&(n.activeBreakpoint=o,"unslick"===n.breakpointSettings[o]?n.unslick():(n.options=i.extend({},n.originalSettings,n.breakpointSettings[o]),e===!0&&(n.currentSlide=n.options.initialSlide),n.refresh())):(n.activeBreakpoint=o,"unslick"===n.breakpointSettings[o]?n.unslick():(n.options=i.extend({},n.originalSettings,n.breakpointSettings[o]),e===!0&&(n.currentSlide=n.options.initialSlide),n.refresh())):null!==n.activeBreakpoint&&(n.activeBreakpoint=null,n.options=n.originalSettings,e===!0&&(n.currentSlide=n.options.initialSlide),n.refresh())}},e.prototype.changeSlide=function(e,t){var o,s,n,l=this,r=i(e.target);switch(r.is("a")&&e.preventDefault(),n=l.slideCount%l.options.slidesToScroll!==0,o=n?0:(l.slideCount-l.currentSlide)%l.options.slidesToScroll,e.data.message){case"previous":s=0===o?l.options.slidesToScroll:l.options.slidesToShow-o,l.slideCount>l.options.slidesToShow&&l.slideHandler(l.currentSlide-s,!1,t);break;case"next":s=0===o?l.options.slidesToScroll:o,l.slideCount>l.options.slidesToShow&&l.slideHandler(l.currentSlide+s,!1,t);break;case"index":var d=0===e.data.index?0:e.data.index||i(e.target).parent().index()*l.options.slidesToScroll;l.slideHandler(l.checkNavigable(d),!1,t);break;default:return}},e.prototype.checkNavigable=function(i){var e,t,o=this;if(e=o.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var s in e){if(i<e[s]){i=t;break}t=e[s]}return i},e.prototype.clickHandler=function(i){var e=this;e.shouldClick===!1&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(){var e=this;e.autoPlayClear(),e.touchObject={},i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-center slick-visible").attr("aria-hidden","true").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.off(".slick"),i(window).off(".slick-"+e.instanceUid),i(document).off(".slick-"+e.instanceUid),e.$slider.html(e.$slides)},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;t.cssTransitions===!1?(t.$slides.eq(i).css({zIndex:1e3}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:1e3}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var i=this;return i.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(i.options.infinite===!0)o=Math.ceil(i.slideCount/i.options.slidesToScroll);else if(i.options.centerMode===!0)o=i.slideCount;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToShow,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;return o-1},e.prototype.getLeft=function(i){var e,t,o,s=this,n=0;return s.slideOffset=0,t=s.$slides.first().outerHeight(),s.options.infinite===!0?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,n=t*s.options.slidesToShow*-1),s.slideCount%s.options.slidesToScroll!==0&&i+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(i>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(i-s.slideCount))*s.slideWidth*-1,n=(s.options.slidesToShow-(i-s.slideCount))*t*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,n=s.slideCount%s.options.slidesToScroll*t*-1))):i+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(i+s.options.slidesToShow-s.slideCount)*s.slideWidth,n=(i+s.options.slidesToShow-s.slideCount)*t),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,n=0),s.options.centerMode===!0&&s.options.infinite===!0?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:s.options.centerMode===!0&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),e=s.options.vertical===!1?i*s.slideWidth*-1+s.slideOffset:i*t*-1+n,s.options.variableWidth===!0&&(o=s.$slideTrack.children(".slick-slide").eq(s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?i:i+s.options.slidesToShow),e=o[0]?-1*o[0].offsetLeft:0,s.options.centerMode===!0&&(o=s.$slideTrack.children(".slick-slide").eq(s.options.infinite===!1?i:i+s.options.slidesToShow+1),e=o[0]?-1*o[0].offsetLeft:0,e+=(s.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){var e=this;return e.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(e.options.infinite===!1?(i=e.slideCount-e.options.slidesToShow+1,e.options.centerMode===!0&&(i=e.slideCount)):(t=-1*e.slideCount,o=-1*e.slideCount,i=2*e.slideCount);i>t;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o,s=this;return o=s.options.centerMode===!0?s.slideWidth*Math.floor(s.options.slidesToShow/2):0,s.options.swipeToSlide===!0?(s.$slideTrack.find(".slick-slide").each(function(e,n){return n.offsetLeft-o+i(n).outerWidth()/2>-1*s.swipeLeft?(t=n,!1):void 0}),e=Math.abs(i(t).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){var t=this;t.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(){var e=this;i(e.$slider).hasClass("slick-initialized")||(i(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots()),e.$slider.trigger("init",[e])},e.prototype.initArrowEvents=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.on("click.slick",{message:"next"},i.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&i("li",e.$dots).on("mouseenter.slick",function(){e.paused=!0,e.autoPlayClear()}).on("mouseleave.slick",function(){e.paused=!1,e.autoPlay()})},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),e.options.autoplay===!0&&(i(document).on(e.visibilityChange,function(){e.visibility()}),e.options.pauseOnHover===!0&&(e.$list.on("mouseenter.slick",function(){e.paused=!0,e.autoPlayClear()}),e.$list.on("mouseleave.slick",function(){e.paused=!1,e.autoPlay()}))),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,function(){e.checkResponsive(),e.setPosition()}),i(window).on("resize.slick.slick-"+e.instanceUid,function(){i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.setPosition()},50))}),i("*[draggable!=true]",e.$slideTrack).on("dragstart",function(i){i.preventDefault()}),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.show(),i.options.autoplay===!0&&i.autoPlay()},e.prototype.keyHandler=function(i){var e=this;37===i.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:"previous"}}):39===i.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:"next"}})},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy");e.load(function(){e.animate({opacity:1},200)}).css({opacity:0}).attr("src",t).removeAttr("data-lazy").removeClass("slick-loading")})}var t,o,s,n,l=this;l.options.centerMode===!0?l.options.infinite===!0?(s=l.currentSlide+(l.options.slidesToShow/2+1),n=s+l.options.slidesToShow+2):(s=Math.max(0,l.currentSlide-(l.options.slidesToShow/2+1)),n=2+(l.options.slidesToShow/2+1)+l.currentSlide):(s=l.options.infinite?l.options.slidesToShow+l.currentSlide:l.currentSlide,n=s+l.options.slidesToShow,l.options.fade===!0&&(s>0&&s--,n<=l.slideCount&&n++)),t=l.$slider.find(".slick-slide").slice(s,n),e(t),l.slideCount<=l.options.slidesToShow?(o=l.$slider.find(".slick-slide"),e(o)):l.currentSlide>=l.slideCount-l.options.slidesToShow?(o=l.$slider.find(".slick-cloned").slice(0,l.options.slidesToShow),e(o)):0===l.currentSlide&&(o=l.$slider.find(".slick-cloned").slice(-1*l.options.slidesToShow),e(o))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var i=this;i.changeSlide({data:{message:"next"}})},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.paused=!1,i.autoPlay()},e.prototype.postSlide=function(i){var e=this;e.$slider.trigger("afterChange",[e,i]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay===!0&&e.paused===!1&&e.autoPlay()},e.prototype.prev=e.prototype.slickPrev=function(){var i=this;i.changeSlide({data:{message:"previous"}})},e.prototype.progressiveLazyLoad=function(){var e,t,o=this;e=i("img[data-lazy]",o.$slider).length,e>0&&(t=i("img[data-lazy]",o.$slider).first(),t.attr("src",t.attr("data-lazy")).removeClass("slick-loading").load(function(){t.removeAttr("data-lazy"),o.progressiveLazyLoad(),o.options.adaptiveHeight===!0&&o.setPosition()}).error(function(){t.removeAttr("data-lazy"),o.progressiveLazyLoad()}))},e.prototype.refresh=function(){var e=this,t=e.currentSlide;e.destroy(),i.extend(e,e.initials),e.init(),e.changeSlide({data:{message:"index",index:t}},!0)},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e])},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;return"boolean"==typeof i?(e=i,i=e===!0?0:o.slideCount-1):i=e===!0?--i:i,o.slideCount<1||0>i||i>o.slideCount-1?!1:(o.unload(),t===!0?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,void o.reinit())},e.prototype.setCSS=function(i){var e,t,o=this,s={};o.options.rtl===!0&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,o.transformsEnabled===!1?o.$slideTrack.css(s):(s={},o.cssTransitions===!1?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var i=this;if(i.options.vertical===!1?i.options.centerMode===!0&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),i.options.centerMode===!0&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),i.options.vertical===!1&&i.options.variableWidth===!1)i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length));else if(i.options.variableWidth===!0){var e=0;i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.children(".slick-slide").each(function(){e+=i.listWidth}),i.$slideTrack.width(Math.ceil(e)+1)}else i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length));var t=i.$slides.first().outerWidth(!0)-i.$slides.first().width();i.options.variableWidth===!1&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-t)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,i(s).css(t.options.rtl===!0?{position:"relative",right:e,top:0,zIndex:800,opacity:0}:{position:"relative",left:e,top:0,zIndex:800,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:900,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(i,e,t){var o=this;o.options[i]=e,t===!0&&(o.unload(),o.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),i.options.fade===!1?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=i.options.vertical===!0?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&i.options.useCSS===!0&&(i.cssTransitions=!0),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&i.animType!==!1&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=null!==i.animType&&i.animType!==!1},e.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;n.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true").removeClass("slick-center"),t=n.$slider.find(".slick-slide"),n.options.centerMode===!0?(e=Math.floor(n.options.slidesToShow/2),n.options.infinite===!0&&(i>=e&&i<=n.slideCount-1-e?n.$slides.slice(i-e,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")):i>=0&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=n.options.infinite===!0?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===n.options.lazyLoad&&n.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;o>e;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.selectHandler=function(e){var t=this,o=parseInt(i(e.target).parents(".slick-slide").attr("data-slick-index"));return o||(o=0),t.slideCount<=t.options.slidesToShow?(t.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden","true"),t.$slides.eq(o).addClass("slick-active").attr("aria-hidden","false"),t.options.centerMode===!0&&(t.$slider.find(".slick-slide").removeClass("slick-center"),t.$slides.eq(o).addClass("slick-center")),void t.asNavFor(o)):void t.slideHandler(o)},e.prototype.slideHandler=function(i,e,t){var o,s,n,l,r=null,d=this;return e=e||!1,d.animating===!0&&d.options.waitForAnimate===!0||d.options.fade===!0&&d.currentSlide===i||d.slideCount<=d.options.slidesToShow?void 0:(e===!1&&d.asNavFor(i),o=i,r=d.getLeft(o),l=d.getLeft(d.currentSlide),d.currentLeft=null===d.swipeLeft?l:d.swipeLeft,d.options.infinite===!1&&d.options.centerMode===!1&&(0>i||i>d.getDotCount()*d.options.slidesToScroll)?void(d.options.fade===!1&&(o=d.currentSlide,t!==!0?d.animateSlide(l,function(){d.postSlide(o)}):d.postSlide(o))):d.options.infinite===!1&&d.options.centerMode===!0&&(0>i||i>d.slideCount-d.options.slidesToScroll)?void(d.options.fade===!1&&(o=d.currentSlide,t!==!0?d.animateSlide(l,function(){d.postSlide(o)}):d.postSlide(o))):(d.options.autoplay===!0&&clearInterval(d.autoPlayTimer),s=0>o?d.slideCount%d.options.slidesToScroll!==0?d.slideCount-d.slideCount%d.options.slidesToScroll:d.slideCount+o:o>=d.slideCount?d.slideCount%d.options.slidesToScroll!==0?0:o-d.slideCount:o,d.animating=!0,d.$slider.trigger("beforeChange",[d,d.currentSlide,s]),n=d.currentSlide,d.currentSlide=s,d.setSlideClasses(d.currentSlide),d.updateDots(),d.updateArrows(),d.options.fade===!0?(t!==!0?d.fadeSlide(s,function(){d.postSlide(s)}):d.postSlide(s),void d.animateHeight()):void(t!==!0?d.animateSlide(r,function(){d.postSlide(s)}):d.postSlide(s))))},e.prototype.startLoad=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),o=Math.round(180*t/Math.PI),0>o&&(o=360-Math.abs(o)),45>=o&&o>=0?s.options.rtl===!1?"left":"right":360>=o&&o>=315?s.options.rtl===!1?"left":"right":o>=135&&225>=o?s.options.rtl===!1?"right":"left":"vertical"},e.prototype.swipeEnd=function(i){var e,t=this;if(t.dragging=!1,t.shouldClick=t.touchObject.swipeLength>10?!1:!0,void 0===t.touchObject.curX)return!1;if(t.touchObject.edgeHit===!0&&t.$slider.trigger("edge",[t,t.swipeDirection()]),t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(t.swipeDirection()){case"left":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide+t.getSlideCount()):t.currentSlide+t.getSlideCount(),t.slideHandler(e),t.currentDirection=0,t.touchObject={},t.$slider.trigger("swipe",[t,"left"]);break;case"right":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide-t.getSlideCount()):t.currentSlide-t.getSlideCount(),t.slideHandler(e),t.currentDirection=1,t.touchObject={},t.$slider.trigger("swipe",[t,"right"])}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),t.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!l.dragging||n&&1!==n.length?!1:(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),t=l.swipeDirection(),"vertical"!==t?(void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&i.preventDefault(),s=(l.options.rtl===!1?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,l.options.infinite===!1&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),l.swipeLeft=l.options.vertical===!1?e+o*s:e+o*(l.$list.height()/l.listWidth)*s,l.options.fade===!0||l.options.touchMove===!1?!1:l.animating===!0?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft)):void 0)},e.prototype.swipeStart=function(i){var e,t=this;return 1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow?(t.touchObject={},!1):(void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,void(t.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(){var i=this;i.destroy()},e.prototype.updateArrows=function(){var i,e=this;i=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.options.infinite!==!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),
e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var i=this;document[i.hidden]?(i.paused=!0,i.autoPlayClear()):(i.paused=!1,i.autoPlay())},i.fn.slick=function(){var i,t=this,o=arguments[0],s=Array.prototype.slice.call(arguments,1),n=t.length,l=0;for(l;n>l;l++)if("object"==typeof o||"undefined"==typeof o?t[l].slick=new e(t[l],o):i=t[l].slick[o].apply(t[l].slick,s),"undefined"!=typeof i)return i;return t},i(function(){i("[data-slick]").slick()})});
var js_translation_map_en={"LOAD MORE":"LOAD MORE","loading...":"loading...","Loading...":"荷重...","processing...":"Processing...","Processing...":"Processing...",saving:"Saving","Upload complete. Processing":"Upload complete. Processing","File upload failed.":"File upload failed.","Request failed: an error occurred":"Request failed: an error occurred","Nothing more to load":"Nothing more to load","Message Sent":"Message Sent",reply:"reply","Copy to clipboard":"Copy to clipboard","Copied!":"Copied!","Please fill in the reference fields":"Please fill in the reference fields",Today:"Today","This Week":"This Week","This Month":"This Month","All Time":"All Time","Password updated":"Password updated","Invalid email address":"Invalid email address","Email not registered":"Email not registered","Email already registered":"Email already registered",'Hit "Forgot?" to get a new one!':'Hit "Forgot?" to get a new one!',Show:"Show",Hide:"Hide","Password must be at least 6 characters long":"Password must be at least 6 characters long","min-price-500":"Minimum value: 500"};
var js_translation_map_ja={"LOAD MORE":"荷LOAD MORE重","loading...":"選択中...","Loading...":"選択中...","processing...":"処理中です...","Processing...":"処理中です...",saving:"保存中です","Upload complete. Processing":"完全なアップロードします。処理","File upload failed.":"ファイルのアップロードに失敗しました.","Request failed: an error occurred":"荷Request failed: an error occurred荷","Nothing more to load":"フNothing more to loadた","Message Sent":"フMessage Sentた",reply:"節reply約","Copy to clipboard":"Ctrl＋C でコピーしてください。","Copied!":"Copied!","Please fill in the reference fields":"節Please fill in the reference fields約",Today:"本日","This Week":"今週","This Month":"今月","All Time":"全期間","Password updated":"節Password updated約","Invalid email address":"Invalid email address","Email not registered":"Email not registered","Email already registered":"Email already registered",'Hit "Forgot?" to get a new one!':'Hit "Forgot?" to get a new one!',Show:"Show",Hide:"Hide","Password must be at least 6 characters long":"Password must be at least 6 characters long","min-price-500":"ワザールで最低レッスン金額は500円以上ですので、500円以上の金額を設定して下さい。","Course Ready For Submission":"商品をご提出ください。"};
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function i(i,s){function o(){return u.update(),u.move(u.slideCurrent),r(),u}function r(){u.options.buttons&&(v.click(function(){return u.move(--b),!1}),c.click(function(){return u.move(++b),!1})),t(window).resize(u.update),u.options.bullets&&i.on("click",".bullet",function(){return u.move(b=+t(this).attr("data-slide")),!1})}function l(){u.options.buttons&&!u.options.infinite&&(v.toggleClass("disable",u.slideCurrent<=0),c.toggleClass("disable",u.slideCurrent>=u.slidesTotal-C)),u.options.bullets&&(m.removeClass("active"),t(m[u.slideCurrent]).addClass("active"))}this.options=t.extend({},n,s),this._defaults=n,this._name=e;var u=this,a=i.find(".viewport:first"),d=i.find(".overview:first"),f=null,c=i.find(".next:first"),v=i.find(".prev:first"),m=i.find(".bullet"),p=0,h={},C=0,T=0,b=0,g="x"===this.options.axis,x=g?"Width":"Height",w=g?"left":"top",y=null;return this.slideCurrent=0,this.slidesTotal=0,this.intervalActive=!1,this.update=function(){return d.find(".mirrored").remove(),f=d.children(),p=a[0]["offset"+x],T=f.first()["outer"+x](!0),u.slidesTotal=f.length,u.slideCurrent=u.options.start||0,C=Math.ceil(p/T),d.css(x.toLowerCase(),T*(u.slidesTotal+C)),l(),u},this.start=function(){return u.options.interval&&(clearTimeout(y),u.intervalActive=!0,y=setTimeout(function(){u.move(++b)},u.options.intervalTime)),u},this.stop=function(){return clearTimeout(y),u.intervalActive=!1,u},this.move=function(t){return b=isNaN(t)?u.slideCurrent:t,u.slideCurrent=b%u.slidesTotal,0>b&&(u.slideCurrent=b=u.slidesTotal-1,d.css(w,-u.slidesTotal*T)),b>u.slidesTotal&&(u.slideCurrent=b=1,d.css(w,0)),h[w]=-b*T,d.animate(h,{queue:!1,duration:u.options.animation?u.options.animationTime:0,always:function(){i.trigger("move",[f[u.slideCurrent],u.slideCurrent])}}),l(),u.start(),u},o()}var e="tinycarousel",n={start:0,axis:"x",buttons:!0,bullets:!1,interval:!1,intervalTime:3e3,animation:!0,animationTime:1e3,infinite:!0};t.fn[e]=function(n){return this.each(function(){t.data(this,"plugin_"+e)||t.data(this,"plugin_"+e,new i(t(this),n))})}});
!function(t,o,i){"use strict";function e(e){var n=t(o).height(),s=t(i).height();"window"===e.settings.resizeTo?t(e).css("height",s):s>=n?t(e).css("height",s):t(e).css("height",n)}function n(o){t(o.controlbox).append(o.settings.preloadHtml),o.settings.preloadCallback&&o.settings.preloadCallback.call(o)}function s(o){var i,e=o.find("video").get(0);i=o.settings.controlPosition?t(o.settings.controlPosition).find(".ui-video-background-play a"):o.find(".ui-video-background-play a"),e.paused?(e.play(),i.toggleClass("ui-icon-pause ui-icon-play").text(o.settings.controlText[1])):e.ended?(e.play(),i.toggleClass("ui-icon-pause ui-icon-play").text(o.settings.controlText[1])):(e.pause(),i.toggleClass("ui-icon-pause ui-icon-play").text(o.settings.controlText[0]))}function a(o){var i,e=o.find("video").get(0);i=o.settings.controlPosition?t(o.settings.controlPosition).find(".ui-video-background-mute a"):o.find(".ui-video-background-mute a"),0===e.volume?(e.volume=1,i.toggleClass("ui-icon-volume-on ui-icon-volume-off").text(o.settings.controlText[2])):(e.volume=0,i.toggleClass("ui-icon-volume-on ui-icon-volume-off").text(o.settings.controlText[3]))}function d(o){var n=t("#video-background video");console.log(n[0].volume),o.find("video").on("ended",function(){o.settings.loop?(t(this).get(0).play(),t(this).toggleClass("paused").text(o.settings.controlText[1])):t(".ui-video-background-play a").addClass("ui-icon-pause").removeClass("ui-icon-play")}),o.settings.resize&&t(i).on("resize",function(){e(o)}),t(".ui-video-background-play a").hasClass("restart-video")?(1===n[0].volume&&(n[0].volume=0),t(".ui-video-background-play .restart-video").on("click",function(){t(".ui-video-background-play a").removeClass("restart-video"),n[0].currentTime="0",0===n[0].volume&&(n[0].volume=1)})):0===n[0].volume&&(n[0].volume=1),o.controls.find(".ui-video-background-play a").on("click",function(i){i.preventDefault(),s(o),t(".ui-video-background-controls li").show();var e=n[0].videoHeight,a=n[0].videoWidth;TweenMax.to("#bckgrd-video-overlay",1,{"background-color":"rgba(24, 34, 43, 1)",width:a,margin:"0 auto",right:"0",top:"auto",ease:Power4.easeOut}),t("#bckgrd-video-overlay").addClass("pull-up-controls"),TweenMax.to("#video-background",1,{height:e}),TweenMax.to("#video-background video, #bckgrd-video-container",1,{height:e,width:a,minHeight:"auto",minWidth:"auto",margin:"0 auto",ease:Power4.easeOut})}),o.controls.find(".ui-video-background-mute a").on("click",function(t){t.preventDefault(),a(o)}),o.settings.loop?o.find("video").on("ended",function(){t(this).get(0).play(),t(this).toggleClass("paused").text(o.settings.controlText[1])}):o.find("video").on("ended",function(){})}function l(o){t(o.controlbox).html(o.controls),d(o),o.settings.loadedCallback&&o.settings.loadedCallback.call(o)}var u={init:function(i){return this.each(function(){var s,a,d=t(this),u="",c="",r=d.data("video-options");o.createElement("video").canPlayType?(d.settings=t.extend(!0,{},t.fn.videobackground.defaults,r,i),d.settings.initialised||(d.settings.initialised=!0,d.settings.resize&&e(d),t.each(d.settings.videoSource,function(){a="[object Array]"===Object.prototype.toString.call(this),u=a&&void 0!==this[1]?u+'<source src="'+this[0]+'" type="'+this[1]+'">':a?u+'<source src="'+this[0]+'">':u+'<source src="'+this+'">'}),c=c+'preload="'+d.settings.preload+'"',d.settings.poster&&(c=c+' poster="'+d.settings.poster+'"'),d.settings.autoplay&&(c+=' autoplay="autoplay"'),d.settings.loop&&(c+=' loop="loop"'),d.settings.muted&&(c+=' muted="muted"'),t(d).html("<video "+c+">"+u+"</video>"),d.controlbox=t('<div class="ui-video-background ui-widget ui-widget-content ui-corner-all"></div>'),d.settings.controlPosition?t(d.settings.controlPosition).append(d.controlbox):t(d).append(d.controlbox),d.controls=t('<ul class="ui-video-background-controls"><li class="ui-video-background-play"><a class="ui-icon ui-icon-pause restart-video" href="#">'+d.settings.controlText[1]+'</a></li><li class="ui-video-background-mute"><a class="ui-icon ui-icon-volume-on" href="#">'+d.settings.controlText[2]+"</a></li></ul>"),d.settings.preloadHtml||d.settings.preloadCallback?(n(d),d.find("video").on("canplaythrough",function(){d.settings.autoplay&&d.find("video").get(0).play(),l(d)})):d.find("video").on("canplaythrough",function(){d.settings.autoplay&&d.find("video").get(0).play(),l(d)}),d.data("video-options",d.settings))):(d.settings=t.extend(!0,{},t.fn.videobackground.defaults,r,i),d.settings.initialised||(d.settings.initialised=!0,d.settings.poster&&(s=t('<img class="ui-video-background-poster" src="'+d.settings.poster+'">'),d.append(s)),d.data("video-options",d.settings)))})},play:function(o){return this.each(function(){var i=t(this),e=i.data("video-options");i.settings=t.extend(!0,{},e,o),i.settings.initialised&&(s(i),i.data("video-options",i.settings))})},mute:function(o){return this.each(function(){var i=t(this),e=i.data("video-options");i.settings=t.extend(!0,{},e,o),i.settings.initialised&&(a(i),i.data("video-options",i.settings))})},resize:function(o){return this.each(function(){var i=t(this),n=i.data("video-options");i.settings=t.extend(!0,{},n,o),i.settings.initialised&&(e(i),i.data("video-options",i.settings))})},destroy:function(e){return this.each(function(){var n=t(this),s=n.data("video-options");n.settings=t.extend(!0,{},s,e),n.settings.initialised&&(n.settings.initialised=!1,o.createElement("video").canPlayType?(n.find("video").off("ended"),n.settings.controlPosition?(t(n.settings.controlPosition).find(".ui-video-background-mute a").off("click"),t(n.settings.controlPosition).find(".ui-video-background-play a").off("click")):(n.find(".ui-video-background-mute a").off("click"),n.find(".ui-video-background-play a").off("click")),t(i).off("resize"),n.find("video").off("canplaythrough"),n.settings.controlPosition?t(n.settings.controlPosition).find(".ui-video-background").remove():n.find(".ui-video-background").remove(),t("video",n).remove()):n.settings.poster&&n.find(".ui-video-background-poster").remove(),n.removeData("video-options"))})}};t.fn.videobackground=function(o){return this.length?u[o]?u[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void t.error("Method "+o+" does not exist on jQuery.videobackground"):u.init.apply(this,arguments):this},t.fn.videobackground.defaults={videoSource:[],poster:null,autoplay:!0,preload:"auto",loop:!0,controlPosition:null,controlText:["","","",""],resize:!1,preloadHtml:"",preloadCallback:null,loadedCallback:null,resizeTo:"document"}}(jQuery,document,window);
!function(e){var t=function(t,s){if(this.element=e(t),this.format=a.parseFormat(s.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=e(a.template).appendTo("body").on({click:e.proxy(this.click,this)}),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isInput?this.element.on({focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this)}):this.component?this.component.on("click",e.proxy(this.show,this)):this.element.on("click",e.proxy(this.show,this)),this.minViewMode=s.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=s.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=s.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=s.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};t.prototype={constructor:t,show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),!this.isInput;var a=this;e(document).on("mousedown",function(t){0==e(t.target).closest(".datepicker").length&&a.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var e=a.formatDate(this.date,this.format);this.isInput?this.element.prop("value",e):(this.component&&this.element.find("input").prop("value",e),this.element.data("date",e))},setValue:function(e){this.date="string"==typeof e?a.parseDate(e,this.format):new Date(e),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var e=this.component?this.component.offset():this.element.offset();this.picker.css({top:e.top+this.height,left:e.left})},update:function(e){this.date=a.parseDate("string"==typeof e?e:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var e=this.weekStart,t="<tr>";e<this.weekStart+7;)t+='<th class="dow">'+a.dates.daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+a.dates.monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").append(e)},fill:function(){var e=new Date(this.viewDate),t=e.getFullYear(),s=e.getMonth(),i=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(a.dates.months[s]+" "+t);var n=new Date(t,s-1,28,0,0,0,0),h=a.getDaysInMonth(n.getFullYear(),n.getMonth());n.setDate(h),n.setDate(h-(n.getDay()-this.weekStart+7)%7);var o=new Date(n);o.setDate(o.getDate()+42),o=o.valueOf();for(var r,d,l,c=[];n.valueOf()<o;)n.getDay()===this.weekStart&&c.push("<tr>"),r=this.onRender(n),d=n.getFullYear(),l=n.getMonth(),s>l&&d===t||t>d?r+=" old":(l>s&&d===t||d>t)&&(r+=" new"),n.valueOf()===i&&(r+=" active"),c.push('<td class="day '+r+'">'+n.getDate()+"</td>"),n.getDay()===this.weekEnd&&c.push("</tr>"),n.setDate(n.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(c.join(""));var p=this.date.getFullYear(),m=this.picker.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");p===t&&m.eq(this.date.getMonth()).addClass("active"),c="",t=10*parseInt(t/10,10);var u=this.picker.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");t-=1;for(var w=-1;11>w;w++)c+='<span class="year'+(-1===w||10===w?" old":"")+(p===t?" active":"")+'">'+t+"</span>",t+=1;u.html(c)},click:function(t){t.stopPropagation(),t.preventDefault();var s=e(t.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+a.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+a.modes[this.viewMode].navFnc].call(this.viewDate)+a.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(s.is(".month")){var i=s.parent().find("span").index(s);this.viewDate.setMonth(i)}else{var n=parseInt(s.text(),10)||0;this.viewDate.setFullYear(n)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:a.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(s.is(".day")&&!s.is(".disabled")){var h=parseInt(s.text(),10)||1,i=this.viewDate.getMonth();s.is(".old")?i-=1:s.is(".new")&&(i+=1);var n=this.viewDate.getFullYear();this.date=new Date(n,i,h,0,0,0,0),this.viewDate=new Date(n,i,Math.min(28,h),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:a.modes[this.viewMode].clsName})}}},mousedown:function(e){e.stopPropagation(),e.preventDefault()},showMode:function(e){e&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+a.modes[this.viewMode].clsName).show()}},e.fn.datepicker=function(a,s){return this.each(function(){var i=e(this),n=i.data("datepicker"),h="object"==typeof a&&a;n||i.data("datepicker",n=new t(this,e.extend({},e.fn.datepicker.defaults,h))),"string"==typeof a&&n[a](s)})},e.fn.datepicker.defaults={onRender:function(e){return""}},e.fn.datepicker.Constructor=t;var a={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,a.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},parseFormat:function(e){var t=e.match(/[.\/\-\s].*?/),a=e.split(/\W+/);if(!t||!a||0===a.length)throw new Error("Invalid date format.");return{separator:t,parts:a}},parseDate:function(e,t){e+="";var a,s=e.split(t.separator),e=new Date;if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),s.length===t.parts.length){for(var i=e.getFullYear(),n=e.getDate(),h=e.getMonth(),o=0,r=t.parts.length;r>o;o++)switch(a=parseInt(s[o],10)||1,t.parts[o]){case"dd":case"d":n=a,e.setDate(a);break;case"mm":case"m":h=a-1,e.setMonth(a-1);break;case"yy":i=2e3+a,e.setFullYear(2e3+a);break;case"yyyy":i=a,e.setFullYear(a)}e=new Date(i,h,n,0,0,0)}return e},formatDate:function(e,t){var a={d:e.getDate(),m:e.getMonth()+1,yy:e.getFullYear().toString().substring(2),yyyy:e.getFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m;for(var e=[],s=0,i=t.parts.length;i>s;s++)e.push(a[t.parts[s]]);return e.join(t.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};a.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+a.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+a.headTemplate+a.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+a.headTemplate+a.contTemplate+"</table></div></div>"}(window.jQuery);
var Mailcheck={domainThreshold:3,secondLevelThreshold:2,topLevelThreshold:2,defaultDomains:["google.com","gmail.com","me.com","aol.com","mac.com","comcast.net","googlemail.com","msn.com","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","icloud.com"],defaultSecondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],defaultTopLevelDomains:["co.jp","co.uk","com","net","org","info","edu","gov","mil","ca"],run:function(e){e.domains=e.domains||Mailcheck.defaultDomains,e.secondLevelDomains=e.secondLevelDomains||Mailcheck.defaultSecondLevelDomains,e.topLevelDomains=e.topLevelDomains||Mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||Mailcheck.sift3Distance;var n=function(e){return e},o=e.suggested||n,i=e.empty||n,t=Mailcheck.suggest(Mailcheck.encodeEmail(e.email),e.domains,e.secondLevelDomains,e.topLevelDomains,e.distanceFunction);return t?o(t):i()},suggest:function(e,n,o,i,t){e=e.toLowerCase();var l=this.splitEmail(e),a=this.findClosestDomain(l.domain,n,t,this.domainThreshold);if(a)return a==l.domain?!1:{address:l.address,domain:a,full:l.address+"@"+a};var s=this.findClosestDomain(l.secondLevelDomain,o,t,this.secondLevelThreshold),r=this.findClosestDomain(l.topLevelDomain,i,t,this.topLevelThreshold);if(l.domain){var a=l.domain,c=!1;if(s&&s!=l.secondLevelDomain&&(a=a.replace(l.secondLevelDomain,s),c=!0),r&&r!=l.topLevelDomain&&(a=a.replace(l.topLevelDomain,r),c=!0),1==c)return{address:l.address,domain:a,full:l.address+"@"+a}}return!1},findClosestDomain:function(e,n,o,i){i=i||this.topLevelThreshold;var t,l=99,a=null;if(!e||!n)return!1;o||(o=this.sift3Distance);for(var s=0;s<n.length;s++){if(e===n[s])return e;t=o(e,n[s]),l>t&&(l=t,a=n[s])}return i>=l&&null!==a?a:!1},sift3Distance:function(e,n){if(null==e||0===e.length)return null==n||0===n.length?0:n.length;if(null==n||0===n.length)return e.length;for(var o=0,i=0,t=0,l=0,a=5;o+i<e.length&&o+t<n.length;){if(e.charAt(o+i)==n.charAt(o+t))l++;else{i=0,t=0;for(var s=0;a>s;s++){if(o+s<e.length&&e.charAt(o+s)==n.charAt(o)){i=s;break}if(o+s<n.length&&e.charAt(o)==n.charAt(o+s)){t=s;break}}}o++}return(e.length+n.length)/2-l},splitEmail:function(e){var n=e.trim().split("@");if(n.length<2)return!1;for(var o=0;o<n.length;o++)if(""===n[o])return!1;var i=n.pop(),t=i.split("."),l="",a="";if(0==t.length)return!1;if(1==t.length)a=t[0];else{l=t[0];for(var o=1;o<t.length;o++)a+=t[o]+".";a=a.substring(0,a.length-1)}return{topLevelDomain:a,secondLevelDomain:l,domain:i,address:n.join("@")}},encodeEmail:function(e){var n=encodeURI(e);return n=n.replace("%20"," ").replace("%25","%").replace("%5E","^").replace("%60","`").replace("%7B","{").replace("%7C","|").replace("%7D","}")}};"undefined"!=typeof module&&module.exports&&(module.exports=Mailcheck),"function"==typeof define&&define.amd&&define("mailcheck",[],function(){return Mailcheck}),"undefined"!=typeof window&&window.jQuery&&!function(e){e.fn.mailcheck=function(e){var n=this;if(e.suggested){var o=e.suggested;e.suggested=function(e){o(n,e)}}if(e.empty){var i=e.empty;e.empty=function(){i.call(null,n)}}e.email=this.val(),Mailcheck.run(e)}}(jQuery);
!function(t,o){"use strict";"function"==typeof define&&define.amd?define(["jquery"],o):"object"==typeof exports?module.exports=o(require("jquery")):t.bootbox=o(t.jQuery)}(this,function t(o,e){"use strict";function a(t){var o=C[f.locale];return o?o[t]:C.en[t]}function n(t,e,a){t.stopPropagation(),t.preventDefault();var n=o.isFunction(a)&&a.call(e,t)===!1;n||e.modal("hide")}function r(t){var o,e=0;for(o in t)e++;return e}function l(t,e){var a=0;o.each(t,function(t,o){e(t,o,a++)})}function i(t){var e,a;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=o.extend({},f,t),t.buttons||(t.buttons={}),e=t.buttons,a=r(e),l(e,function(t,n,r){if(o.isFunction(n)&&(n=e[t]={callback:n}),"object"!==o.type(n))throw new Error("button with key "+t+" must be an object");n.label||(n.label=t),n.className||(n.className=2>=a&&r===a-1?"btn-primary":"btn-default")}),t}function c(t,o){var e=t.length,a={};if(1>e||e>2)throw new Error("Invalid argument length");return 2===e||"string"==typeof t[0]?(a[o[0]]=t[0],a[o[1]]=t[1]):a=t[0],a}function s(t,e,a){return o.extend(!0,{},t,c(e,a))}function u(t,o,e,a){var n={className:"bootbox-"+t,buttons:p.apply(null,o)};return b(s(n,a,e),o)}function p(){for(var t={},o=0,e=arguments.length;e>o;o++){var n=arguments[o],r=n.toLowerCase(),l=n.toUpperCase();t[r]={label:a(l)}}return t}function b(t,o){var a={};return l(o,function(t,o){a[o]=!0}),l(t.buttons,function(t){if(a[t]===e)throw new Error("button key "+t+" is not allowed (options are "+o.join("\n")+")")}),t}var d={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},f={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=u("alert",["ok"],["message","callback"],arguments),t.callback&&!o.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return o.isFunction(t.callback)?t.callback.call(this):!0},m.dialog(t)},m.confirm=function(){var t;if(t=u("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!o.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,a,n,r,i,c,u;if(r=o(d.form),a={className:"bootbox-prompt",buttons:p("cancel","confirm"),value:"",inputType:"text"},t=b(s(a,arguments,["title","callback"]),["cancel","confirm"]),c=t.show===e?!0:t.show,t.message=r,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var e;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":e=i.val();break;case"checkbox":var a=i.find("input:checked");e=[],l(a,function(t,a){e.push(o(a).val())})}return t.callback.call(this,e)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!o.isFunction(t.callback))throw new Error("prompt requires a callback");if(!d.inputs[t.inputType])throw new Error("invalid prompt type");switch(i=o(d.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":i.val(t.value);break;case"select":var f={};if(u=t.inputOptions||[],!o.isArray(u))throw new Error("Please pass an array of input options");if(!u.length)throw new Error("prompt with select requires options");l(u,function(t,a){var n=i;if(a.value===e||a.text===e)throw new Error("given options in wrong format");a.group&&(f[a.group]||(f[a.group]=o("<optgroup/>").attr("label",a.group)),n=f[a.group]),n.append("<option value='"+a.value+"'>"+a.text+"</option>")}),l(f,function(t,o){i.append(o)}),i.val(t.value);break;case"checkbox":var C=o.isArray(t.value)?t.value:[t.value];if(u=t.inputOptions||[],!u.length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");i=o("<div/>"),l(u,function(e,a){var n=o(d.inputs[t.inputType]);n.find("input").attr("value",a.value),n.find("label").append(a.text),l(C,function(t,o){o===a.value&&n.find("input").prop("checked",!0)}),i.append(n)})}return t.placeholder&&i.attr("placeholder",t.placeholder),t.pattern&&i.attr("pattern",t.pattern),t.maxlength&&i.attr("maxlength",t.maxlength),r.append(i),r.on("submit",function(t){t.preventDefault(),t.stopPropagation(),n.find(".btn-primary").click()}),n=m.dialog(t),n.off("shown.bs.modal"),n.on("shown.bs.modal",function(){i.focus()}),c===!0&&n.modal("show"),n},m.dialog=function(t){t=i(t);var a=o(d.dialog),r=a.find(".modal-dialog"),c=a.find(".modal-body"),s=t.buttons,u="",p={onEscape:t.onEscape};if(o.fn.modal===e)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(l(s,function(t,o){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+o.className+"'>"+o.label+"</button>",p[t]=o.callback}),c.find(".bootbox-body").html(t.message),t.animate===!0&&a.addClass("fade"),t.className&&a.addClass(t.className),"large"===t.size?r.addClass("modal-lg"):"small"===t.size&&r.addClass("modal-sm"),t.title&&c.before(d.header),t.closeButton){var b=o(d.closeButton);t.title?a.find(".modal-header").prepend(b):b.css("margin-top","-10px").prependTo(c)}return t.title&&a.find(".modal-title").html(t.title),u.length&&(c.after(d.footer),a.find(".modal-footer").html(u)),a.on("hidden.bs.modal",function(t){t.target===this&&a.remove()}),a.on("shown.bs.modal",function(){a.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&a.on("click.dismiss.bs.modal",function(t){a.children(".modal-backdrop").length&&(t.currentTarget=a.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&a.trigger("escape.close.bb")}),a.on("escape.close.bb",function(t){p.onEscape&&n(t,a,p.onEscape)}),a.on("click",".modal-footer button",function(t){var e=o(this).data("bb-handler");n(t,a,p[e])}),a.on("click",".bootbox-close-button",function(t){n(t,a,p.onEscape)}),a.on("keyup",function(t){27===t.which&&a.trigger("escape.close.bb")}),o(t.container).append(a),a.modal({backdrop:t.backdrop?"static":!1,keyboard:!1,show:!1}),t.show&&a.modal("show"),a},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],o.extend(f,t)},m.hideAll=function(){return o(".bootbox").modal("hide"),m};var C={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return m.addLocale=function(t,e){return o.each(["OK","CANCEL","CONFIRM"],function(t,o){if(!e[o])throw new Error("Please supply a translation for '"+o+"'")}),C[t]={OK:e.OK,CANCEL:e.CANCEL,CONFIRM:e.CONFIRM},m},m.removeLocale=function(t){return delete C[t],m},m.setLocale=function(t){return m.setDefaults("locale",t)},m.init=function(e){return t(e||o)},m});